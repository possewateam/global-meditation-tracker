import{u as We,r,j as e,G as xt,B as Ce,S as nt,P as Se,X as ke,E as be,R as Xe,C as Kt,a as Zt,b as De,T as Ae,U as bt,A as es,c as dt,d as ts,e as Te,f as ss,g as as,h as Ve,i as qe,k as ls,M as rs,L as os,Y as He,l as is,H as ns,m as ds,I as cs,n as ms,o as us,V as Oe,p as Ye,q as xe,s as Ge,t as ze,v as hs,w as xs,x as ct,y as mt}from"./vendor-react-CsWuKxj5.js";import{c as bs}from"./vendor-supabase-D4rA0elu.js";const gs="https://zjxxpitafdxbkicskuln.supabase.co",ps="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpqeHhwaXRhZmR4YmtpY3NrdWxuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMzMzMzgsImV4cCI6MjA3NjgwOTMzOH0.YE4xQUUjkFngX4KcXoi-q7bos-E46NPEBzA8kBHU4BA",o=bs(gs,ps,{auth:{persistSession:!0,autoRefreshToken:!0}}),Cs=Object.freeze(Object.defineProperty({__proto__:null,supabase:o},Symbol.toStringTag,{value:"Module"})),ut="meditation_session_id",ht=()=>{let d=localStorage.getItem(ut);return d||(d=`anon_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem(ut,d)),d},fs=()=>{const{i18n:d}=We();r.useEffect(()=>{(async()=>{const g=ht(),{data:p}=await o.from("user_preferences").select("language").eq("session_id",g).maybeSingle();p&&p.language&&p.language!==d.language&&d.changeLanguage(p.language)})()},[d]),r.useEffect(()=>{(async()=>{const g=ht(),{data:p}=await o.from("user_preferences").select("id").eq("session_id",g).maybeSingle();p?await o.from("user_preferences").update({language:d.language,updated_at:new Date().toISOString()}).eq("id",p.id):await o.from("user_preferences").insert({session_id:g,language:d.language})})()},[d.language])},Qe=[{code:"en",name:"English",nativeName:"English"},{code:"hi",name:"Hindi",nativeName:"हिन्दी"},{code:"te",name:"Telugu",nativeName:"తెలుగు"},{code:"ta",name:"Tamil",nativeName:"தமிழ்"},{code:"ml",name:"Malayalam",nativeName:"മലയാളം"},{code:"bn",name:"Bengali",nativeName:"বাংলা"},{code:"pa",name:"Punjabi",nativeName:"ਪੰਜਾਬੀ"},{code:"kn",name:"Kannada",nativeName:"ಕನ್ನಡ"},{code:"or",name:"Odia",nativeName:"ଓଡ଼ିଆ"},{code:"ru",name:"Russian",nativeName:"Русский"},{code:"de",name:"German",nativeName:"Deutsch"},{code:"fr",name:"French",nativeName:"Français"}],Be=()=>{const{i18n:d}=We(),[D,g]=r.useState(!1),p=Qe.find(f=>f.code===d.language)||Qe[0],N=f=>{d.changeLanguage(f),g(!1)};return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>g(!D),className:"flex items-center gap-2 px-4 py-2 bg-white/10 hover:bg-white/20 backdrop-blur-sm rounded-lg border border-purple-500/30 transition-all duration-300 text-white",children:[e.jsx(xt,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden sm:inline",children:p.nativeName}),e.jsx("span",{className:"sm:hidden",children:p.code.toUpperCase()}),e.jsx("svg",{className:`w-4 h-4 transition-transform ${D?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),D&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>g(!1)}),e.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-gradient-to-br from-purple-900/95 to-blue-900/95 backdrop-blur-lg rounded-lg border border-purple-500/30 shadow-2xl z-50 max-h-96 overflow-y-auto",children:Qe.map(f=>e.jsxs("button",{onClick:()=>N(f.code),className:`w-full px-4 py-3 text-left hover:bg-white/10 transition-colors flex items-center justify-between ${f.code===d.language?"bg-white/20":""}`,children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:f.nativeName}),e.jsx("div",{className:"text-purple-300 text-sm",children:f.name})]}),f.code===d.language&&e.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},f.code))})]})]})},oe={primaryColor:"#14b8a6",secondaryColor:"#0891b2",accentColor:"#06b6d4",backgroundColor:"#0f172a"},gt=r.createContext(void 0),Ss=({children:d})=>{const[D,g]=r.useState(oe),[p,N]=r.useState(!1);r.useEffect(()=>{M(oe),N(!0),f();const h=o.channel("theme-changes").on("postgres_changes",{event:"*",schema:"public",table:"theme_settings"},()=>{f()}).subscribe();return()=>{h.unsubscribe()}},[]),r.useEffect(()=>{p&&M(D)},[D,p]);const f=async()=>{try{const{data:h,error:y}=await o.from("theme_settings").select("*").maybeSingle();if(y)return;h&&g({primaryColor:h.primary_color||oe.primaryColor,secondaryColor:h.secondary_color||oe.secondaryColor,accentColor:h.accent_color||oe.accentColor,backgroundColor:h.background_color||oe.backgroundColor})}catch{}},M=h=>{const y=document.documentElement;y.style.setProperty("--color-primary",h.primaryColor),y.style.setProperty("--color-secondary",h.secondaryColor),y.style.setProperty("--color-accent",h.accentColor),y.style.setProperty("--color-background",h.backgroundColor),setTimeout(()=>{document.querySelectorAll(".min-h-screen").forEach(F=>{F.style.background=`linear-gradient(to bottom right, ${h.primaryColor}, ${h.secondaryColor}, ${h.accentColor})`})},100)},T=async h=>{const{data:y}=await o.from("theme_settings").select("id").maybeSingle();y?await o.from("theme_settings").update({primary_color:h.primaryColor,secondary_color:h.secondaryColor,accent_color:h.accentColor,background_color:h.backgroundColor,updated_at:new Date().toISOString()}).eq("id",y.id):await o.from("theme_settings").insert({primary_color:h.primaryColor,secondary_color:h.secondaryColor,accent_color:h.accentColor,background_color:h.backgroundColor}),g(h)};return e.jsx(gt.Provider,{value:{colors:D,updateTheme:T},children:d})},ws=()=>{const d=r.useContext(gt);if(d===void 0)throw new Error("useTheme must be used within a ThemeProvider");return d},ys=()=>{const[d,D]=r.useState([]),[g,p]=r.useState(!1),[N,f]=r.useState(!1),[M,T]=r.useState(null),[h,y]=r.useState([]),[k,F]=r.useState(null),[E,C]=r.useState(!1),[A,$]=r.useState(""),[I,z]=r.useState([]),[x]=r.useState(["en","hi","bn","ta","te","kn","ml","pa","or","de","fr","ru"]),[n,j]=r.useState({title:"",body:"",audience_type:"all",audience_filter:{},send_at:"",repeat_rrule:"",channels:["in_app"]});r.useEffect(()=>{l(),i()},[]);const l=async()=>{const{data:a,error:m}=await o.from("notifications").select("*").order("created_at",{ascending:!1});!m&&a&&D(a)},i=async()=>{const{data:a}=await o.from("users").select("centre_name").not("centre_name","is",null);if(a){const m=Array.from(new Set(a.map(w=>w.centre_name)));z(m)}},u=async a=>{a.preventDefault(),C(!0),$("");try{const m=new Date(n.send_at),w={title:n.title,body:n.body,audience_type:n.audience_type,audience_filter:n.audience_filter,send_at:m.toISOString(),repeat_rrule:n.repeat_rrule||null,status:"scheduled",channels:n.channels,created_by:"admin"};let P;if(k){if(P=await o.from("notifications").update(w).eq("id",k).select(),P.error)throw P.error;$("✓ Notification updated successfully!")}else{if(P=await o.from("notifications").insert(w).select(),P.error)throw P.error;$("✓ Notification created successfully!")}await l(),ie()}catch(m){const w=m?.message||"Failed to save notification. Please try again.";$("✗ Error: "+w),alert("Failed to save notification: "+w)}finally{C(!1)}},S=a=>{const m=new Date(a.send_at),w=m.getFullYear(),P=String(m.getMonth()+1).padStart(2,"0"),ae=String(m.getDate()).padStart(2,"0"),fe=String(m.getHours()).padStart(2,"0"),we=String(m.getMinutes()).padStart(2,"0"),ce=`${w}-${P}-${ae}T${fe}:${we}`;j({title:a.title,body:a.body,audience_type:a.audience_type,audience_filter:a.audience_filter||{},send_at:ce,repeat_rrule:a.repeat_rrule||"",channels:a.channels||["in_app"]}),F(a.id),p(!0)},W=async a=>{confirm("Are you sure you want to delete this notification?")&&(await o.from("notifications").delete().eq("id",a),await l())},se=async a=>{await o.from("notifications").update({status:"cancelled"}).eq("id",a),await l()},ge=async a=>{await o.from("notifications").update({status:"sent",sent_at:new Date().toISOString()}).eq("id",a),await l()},ie=()=>{j({title:"",body:"",audience_type:"all",audience_filter:{},send_at:"",repeat_rrule:"",channels:["in_app"]}),F(null),p(!1)},ne=(a,m)=>{const w=n.audience_filter[a]||[],P=w.includes(m)?w.filter(ae=>ae!==m):[...w,m];j({...n,audience_filter:{...n.audience_filter,[a]:P}})},de=a=>{j({...n,channels:n.channels.includes(a)?n.channels.filter(m=>m!==a):[...n.channels,a]})},Ee=async a=>{const{data:m}=await o.from("notification_dispatch_logs").select("*").eq("notification_id",a).order("dispatch_time",{ascending:!1});m&&y(m)},L=async a=>{await Ee(a),T(a)},Q=a=>{switch(a){case"draft":return"bg-gray-500";case"scheduled":return"bg-blue-500";case"sent":return"bg-green-500";case"cancelled":return"bg-red-500";default:return"bg-gray-500"}},_=a=>a?a==="FREQ=DAILY"?"Daily":a==="FREQ=WEEKLY"?"Weekly":a==="FREQ=MONTHLY"?"Monthly":a:null,X=a=>new Date(a)>new Date,pe=async()=>{try{C(!0);const{data:a,error:m}=await o.rpc("trigger_notification_dispatch");if(m)throw m;alert(`Dispatch completed! Processed: ${a.processed} notifications`),await l()}catch{alert("Failed to dispatch notifications. Check console for details.")}finally{C(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ce,{className:"w-8 h-8 text-teal-400"}),e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Notification Manager"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:pe,disabled:E,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-amber-500 to-orange-600 text-white rounded-lg hover:shadow-lg transition-all disabled:opacity-50",children:[e.jsx(nt,{className:"w-5 h-5"}),"Dispatch Now"]}),e.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-teal-500 to-cyan-600 text-white rounded-lg hover:shadow-lg transition-all",children:[e.jsx(Se,{className:"w-5 h-5"}),"Create Notification"]})]})]}),A&&e.jsx("div",{className:`p-4 rounded-lg ${A.startsWith("✓")?"bg-green-500/20 border border-green-500/50 text-green-200":"bg-red-500/20 border border-red-500/50 text-red-200"}`,children:A}),g&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-gradient-to-br from-teal-900 to-blue-900 rounded-2xl p-8 max-w-2xl w-full shadow-2xl border border-teal-500/30 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:k?"Edit Notification":"Create Notification"}),e.jsx("button",{onClick:ie,className:"text-teal-300 hover:text-white",children:e.jsx(ke,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-teal-300 mb-2",children:"Title"}),e.jsx("input",{type:"text",value:n.title,onChange:a=>j({...n,title:a.target.value}),className:"w-full px-4 py-2 bg-white/10 border border-teal-500/30 rounded-lg text-white placeholder-teal-400 focus:outline-none focus:border-teal-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-teal-300 mb-2",children:"Message"}),e.jsx("textarea",{value:n.body,onChange:a=>j({...n,body:a.target.value}),rows:4,className:"w-full px-4 py-2 bg-white/10 border border-teal-500/30 rounded-lg text-white placeholder-teal-400 focus:outline-none focus:border-teal-500 resize-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-teal-300 mb-2",children:"Audience"}),e.jsxs("select",{value:n.audience_type,onChange:a=>j({...n,audience_type:a.target.value,audience_filter:{}}),className:"w-full px-4 py-2 bg-white/10 border border-teal-500/30 rounded-lg text-white focus:outline-none focus:border-teal-500",children:[e.jsx("option",{value:"all",children:"All Users"}),e.jsx("option",{value:"centre",children:"By Centre"}),e.jsx("option",{value:"language",children:"By Language"})]})]}),n.audience_type==="centre"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-teal-300 mb-2",children:"Select Centres"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto p-2 bg-white/5 rounded-lg",children:I.map(a=>e.jsxs("label",{className:"flex items-center gap-2 text-white cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n.audience_filter.centres?.includes(a),onChange:()=>ne("centres",a),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:a})]},a))})]}),n.audience_type==="language"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-teal-300 mb-2",children:"Select Languages"}),e.jsx("div",{className:"grid grid-cols-3 gap-2 p-2 bg-white/5 rounded-lg",children:x.map(a=>e.jsxs("label",{className:"flex items-center gap-2 text-white cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n.audience_filter.languages?.includes(a),onChange:()=>ne("languages",a),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm uppercase",children:a})]},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-teal-300 mb-2",children:"Send At (Local Time)"}),e.jsx("input",{type:"datetime-local",value:n.send_at,onChange:a=>j({...n,send_at:a.target.value}),className:"w-full px-4 py-2 bg-white/10 border border-teal-500/30 rounded-lg text-white focus:outline-none focus:border-teal-500",required:!0}),e.jsxs("p",{className:"text-teal-400 text-xs mt-1",children:["Timezone: ",Intl.DateTimeFormat().resolvedOptions().timeZone]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-teal-300 mb-2",children:"Repeat"}),e.jsxs("select",{value:n.repeat_rrule,onChange:a=>j({...n,repeat_rrule:a.target.value}),className:"w-full px-4 py-2 bg-white/10 border border-teal-500/30 rounded-lg text-white focus:outline-none focus:border-teal-500",children:[e.jsx("option",{value:"",children:"No Repeat"}),e.jsx("option",{value:"FREQ=DAILY",children:"Daily"}),e.jsx("option",{value:"FREQ=WEEKLY",children:"Weekly"}),e.jsx("option",{value:"FREQ=MONTHLY",children:"Monthly"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-teal-300 mb-2",children:"Delivery Channels"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 text-white cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n.channels.includes("in_app"),onChange:()=>de("in_app"),className:"w-4 h-4"}),"In-App"]}),e.jsxs("label",{className:"flex items-center gap-2 text-white cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n.channels.includes("web_push"),onChange:()=>de("web_push"),className:"w-4 h-4"}),"Web Push"]}),e.jsxs("label",{className:"flex items-center gap-2 text-white cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n.channels.includes("email"),onChange:()=>de("email"),className:"w-4 h-4"}),"Email"]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{type:"button",onClick:()=>f(!0),className:"flex-1 py-3 bg-white/10 text-white rounded-lg font-semibold hover:bg-white/20 transition-all duration-300 flex items-center justify-center gap-2",children:[e.jsx(be,{className:"w-5 h-5"}),"Preview"]}),e.jsx("button",{type:"submit",disabled:E,className:"flex-1 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg font-semibold hover:shadow-lg hover:shadow-green-500/50 transition-all duration-300 disabled:opacity-50",children:E?"Saving...":k?"Update":"Create"})]})]})]})}),N&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-gradient-to-br from-teal-900 to-blue-900 rounded-2xl p-8 max-w-md w-full shadow-2xl border border-teal-500/30",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Preview"}),e.jsx("button",{onClick:()=>f(!1),className:"text-teal-300 hover:text-white",children:e.jsx(ke,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"bg-white/10 rounded-lg p-4 border border-teal-500/30",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ce,{className:"w-6 h-6 text-teal-400 flex-shrink-0 mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-bold text-white mb-2",children:n.title||"Notification Title"}),e.jsx("p",{className:"text-teal-200 text-sm",children:n.body||"Your notification message will appear here."})]})]})}),e.jsx("button",{onClick:()=>f(!1),className:"w-full mt-4 py-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition-colors",children:"Close"})]})}),M&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-gradient-to-br from-teal-900 to-blue-900 rounded-2xl p-8 max-w-3xl w-full shadow-2xl border border-teal-500/30 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:"Dispatch History"}),e.jsx("button",{onClick:()=>T(null),className:"text-teal-300 hover:text-white",children:e.jsx(ke,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"space-y-3",children:h.length===0?e.jsx("p",{className:"text-teal-300 text-center py-8",children:"No dispatch history yet"}):h.map(a=>e.jsxs("div",{className:`p-4 rounded-lg border ${a.status==="success"?"bg-green-500/10 border-green-500/30":"bg-red-500/10 border-red-500/30"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:`font-semibold ${a.status==="success"?"text-green-400":"text-red-400"}`,children:a.status==="success"?"Success":"Failed"}),e.jsx("span",{className:"text-teal-300 text-sm",children:new Date(a.dispatch_time).toLocaleString()})]}),e.jsxs("div",{className:"text-white text-sm",children:["Recipients: ",a.recipients_count]}),a.error_message&&e.jsxs("div",{className:"text-red-300 text-sm mt-2",children:["Error: ",a.error_message]})]},a.id))})]})}),e.jsxs("div",{className:"grid gap-4",children:[d.map(a=>e.jsx("div",{className:"bg-gradient-to-br from-teal-900/40 to-blue-900/40 backdrop-blur-lg rounded-xl p-6 border border-teal-500/20",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:a.title}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold text-white ${Q(a.status)}`,children:a.status.toUpperCase()}),a.repeat_rrule&&e.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-semibold text-white bg-purple-500 flex items-center gap-1",children:[e.jsx(Xe,{className:"w-3 h-3"}),_(a.repeat_rrule)]}),a.status==="scheduled"&&X(a.send_at)&&e.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-semibold text-white bg-amber-500 flex items-center gap-1",children:[e.jsx(Kt,{className:"w-3 h-3"}),"Auto-Scheduled"]})]}),e.jsx("p",{className:"text-teal-200 mb-4",children:a.body}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-teal-400",children:"Audience:"}),e.jsx("span",{className:"text-white ml-2",children:a.audience_type})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-teal-400",children:"Send At:"}),e.jsxs("span",{className:"text-white ml-2",children:[new Date(a.send_at).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})," at ",new Date(a.send_at).toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit",hour12:!0})," (",Intl.DateTimeFormat().resolvedOptions().timeZone,")"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-teal-400",children:"Channels:"}),e.jsx("span",{className:"text-white ml-2",children:a.channels.join(", ")})]}),a.repeat_rrule&&e.jsxs("div",{children:[e.jsx("span",{className:"text-teal-400",children:"Repeat:"}),e.jsx("span",{className:"text-white ml-2",children:_(a.repeat_rrule)})]}),a.sent_at&&e.jsxs("div",{children:[e.jsx("span",{className:"text-teal-400",children:"Last Sent:"}),e.jsxs("span",{className:"text-white ml-2",children:[new Date(a.sent_at).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})," at ",new Date(a.sent_at).toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit",hour12:!0})]})]})]})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:[e.jsx("button",{onClick:()=>L(a.id),className:"p-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-colors",title:"View Dispatch History",children:e.jsx(Zt,{className:"w-5 h-5"})}),a.status==="scheduled"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>S(a),className:"p-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",title:"Edit",children:e.jsx(De,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>ge(a.id),className:"p-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",title:"Mark as Sent",children:e.jsx(nt,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>se(a.id),className:"p-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors",title:"Cancel",children:e.jsx(ke,{className:"w-5 h-5"})})]}),e.jsx("button",{onClick:()=>W(a.id),className:"p-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",title:"Delete",children:e.jsx(Ae,{className:"w-5 h-5"})})]})]})},a.id)),d.length===0&&e.jsxs("div",{className:"text-center py-12 text-teal-300",children:[e.jsx(Ce,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No notifications yet. Create your first notification!"})]})]})]})},js=()=>{const[d,D]=r.useState([]),[g,p]=r.useState([]),[N,f]=r.useState(null),[M,T]=r.useState(!1),[h,y]=r.useState(""),[k,F]=r.useState(null),[E,C]=r.useState(""),[A,$]=r.useState("potential");r.useEffect(()=>{I()},[]);const I=async()=>{T(!0),await Promise.all([z(),x(),n()]),T(!1)},z=async()=>{try{const{data:i,error:u}=await o.rpc("detect_potential_duplicates");if(u)throw u;D(i||[])}catch{}},x=async()=>{try{const{data:i,error:u}=await o.rpc("get_duplicate_users_list");if(u)throw u;p(i||[])}catch{}},n=async()=>{try{const{data:i,error:u}=await o.rpc("get_duplicate_statistics");if(u)throw u;f(i)}catch{}},j=async(i,u)=>{try{const{data:S,error:W}=await o.rpc("mark_user_as_duplicate",{p_duplicate_user_id:i,p_primary_user_id:u});if(W)throw W;S?.success?(y("User successfully marked as duplicate"),await I(),F(null),C("")):y(`Error: ${S?.error||"Unknown error"}`)}catch{y("Failed to mark user as duplicate")}},l=async i=>{try{const{data:u,error:S}=await o.rpc("unmark_user_as_duplicate",{p_user_id:i});if(S)throw S;u?.success?(y("User successfully unmarked as duplicate"),await I()):y(`Error: ${u?.error||"Unknown error"}`)}catch{y("Failed to unmark user")}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(bt,{className:"w-6 h-6 text-teal-400"}),e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Duplicate User Management"})]}),e.jsxs("button",{onClick:I,disabled:M,className:"flex items-center gap-2 px-4 py-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition-colors disabled:opacity-50",children:[e.jsx(Xe,{className:`w-4 h-4 ${M?"animate-spin":""}`}),"Refresh"]})]}),N&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-teal-500/20",children:[e.jsx("div",{className:"text-teal-400 text-sm mb-1",children:"Total Users"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:N.total_users})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-yellow-500/20",children:[e.jsx("div",{className:"text-yellow-400 text-sm mb-1",children:"Potential Duplicates"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:N.potential_duplicate_groups})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-red-500/20",children:[e.jsx("div",{className:"text-red-400 text-sm mb-1",children:"Marked as Duplicates"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:N.duplicate_users})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-green-500/20",children:[e.jsx("div",{className:"text-green-400 text-sm mb-1",children:"Primary Users"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:N.primary_users})]})]}),h&&e.jsx("div",{className:"bg-teal-500/20 border border-teal-500/50 rounded-lg p-4 text-teal-300",children:h}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("button",{onClick:()=>$("potential"),className:`px-4 py-2 rounded-lg font-semibold transition-all ${A==="potential"?"bg-teal-500 text-white":"bg-white/10 text-teal-300 hover:bg-white/20"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(es,{className:"w-4 h-4"}),"Potential Duplicates"]})}),e.jsx("button",{onClick:()=>$("marked"),className:`px-4 py-2 rounded-lg font-semibold transition-all ${A==="marked"?"bg-teal-500 text-white":"bg-white/10 text-teal-300 hover:bg-white/20"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(dt,{className:"w-4 h-4"}),"Marked Duplicates (",g.length,")"]})})]}),A==="potential"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-teal-300 text-sm",children:"These are potential duplicate users detected by the system. Review each group and mark duplicates accordingly."}),d.length===0?e.jsxs("div",{className:"bg-white/5 rounded-lg p-8 text-center border border-teal-500/20",children:[e.jsx(dt,{className:"w-12 h-12 text-green-400 mx-auto mb-3"}),e.jsx("p",{className:"text-teal-300",children:"No potential duplicates detected"})]}):d.map(i=>e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-yellow-500/20",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-semibold text-lg",children:i.name}),e.jsx("div",{className:"text-teal-400 text-sm",children:i.bk_centre_name}),e.jsxs("div",{className:"text-yellow-400 text-sm mt-1",children:[i.user_count," accounts found"]})]}),e.jsx("button",{onClick:()=>F(k?.group_id===i.group_id?null:i),className:"px-3 py-1 bg-teal-500 text-white rounded text-sm hover:bg-teal-600 transition-colors",children:k?.group_id===i.group_id?"Cancel":"Manage"})]}),e.jsx("div",{className:"space-y-2",children:i.user_ids.map((u,S)=>e.jsxs("div",{className:"bg-white/5 rounded p-3 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-white text-sm font-medium",children:["Account #",S+1]}),e.jsxs("div",{className:"text-teal-300 text-xs",children:["Phone: ",i.mobile_numbers[S]||"N/A"]}),e.jsxs("div",{className:"text-teal-400 text-xs",children:["ID: ",u.substring(0,8),"..."]})]}),k?.group_id===i.group_id&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>C(u),className:`px-3 py-1 rounded text-xs font-semibold transition-colors ${E===u?"bg-green-500 text-white":"bg-white/10 text-teal-300 hover:bg-white/20"}`,children:"Set as Primary"}),E&&E!==u&&e.jsx("button",{onClick:()=>j(u,E),className:"px-3 py-1 bg-red-500 text-white rounded text-xs hover:bg-red-600 transition-colors",children:"Mark as Duplicate"})]})]},u))})]},i.group_id))]}),A==="marked"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-teal-300 text-sm",children:"These users are currently marked as duplicates and hidden from the leaderboard."}),g.length===0?e.jsxs("div",{className:"bg-white/5 rounded-lg p-8 text-center border border-teal-500/20",children:[e.jsx(ts,{className:"w-12 h-12 text-teal-400 mx-auto mb-3"}),e.jsx("p",{className:"text-teal-300",children:"No users marked as duplicates"})]}):g.map(i=>e.jsx("div",{className:"bg-white/5 rounded-lg p-4 border border-red-500/20",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-red-400 text-xs font-semibold mb-1",children:"DUPLICATE ACCOUNT (Hidden)"}),e.jsx("div",{className:"text-white font-semibold",children:i.duplicate_name}),e.jsx("div",{className:"text-teal-400 text-sm",children:i.duplicate_centre}),e.jsxs("div",{className:"text-teal-300 text-xs",children:["Phone: ",i.duplicate_mobile]})]}),e.jsxs("div",{className:"border-t border-white/10 pt-3",children:[e.jsx("div",{className:"text-green-400 text-xs font-semibold mb-1",children:"PRIMARY ACCOUNT (Visible)"}),e.jsx("div",{className:"text-white font-semibold",children:i.primary_name}),e.jsx("div",{className:"text-teal-400 text-sm",children:i.primary_centre}),e.jsxs("div",{className:"text-teal-300 text-xs",children:["Phone: ",i.primary_mobile]})]}),e.jsxs("div",{className:"text-xs text-teal-500",children:["Marked: ",new Date(i.marked_at).toLocaleString()]})]}),e.jsx("button",{onClick:()=>l(i.duplicate_user_id),className:"px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition-colors text-sm font-semibold",children:"Unmark"})]})},i.duplicate_user_id))]})]})},vs=()=>{const[d,D]=r.useState([]),[g,p]=r.useState([]),[N,f]=r.useState(!1),[M,T]=r.useState(""),[h,y]=r.useState(""),[k,F]=r.useState("active"),[E,C]=r.useState(null);r.useEffect(()=>{A()},[]);const A=async()=>{f(!0),await Promise.all([$(),I()]),f(!1)},$=async()=>{try{const{data:l,error:i}=await o.from("users").select("id, name, mobile_e164, bk_centre_name, exclude_from_leaderboard, created_at").or("exclude_from_leaderboard.is.null,exclude_from_leaderboard.eq.false").order("name",{ascending:!0});if(i)throw i;D(l||[])}catch{T("Failed to load active users")}},I=async()=>{try{const{data:l,error:i}=await o.from("users").select("id, name, mobile_e164, bk_centre_name, exclude_from_leaderboard, created_at").eq("exclude_from_leaderboard",!0).order("name",{ascending:!0});if(i)throw i;p(l||[])}catch{}},z=async(l,i)=>{try{const{error:u}=await o.from("users").update({exclude_from_leaderboard:!0}).eq("id",l);if(u)throw u;T(`${i} has been excluded from the leaderboard`),C(null),await A()}catch{T("Failed to exclude user from leaderboard")}},x=async(l,i)=>{try{const{error:u}=await o.from("users").update({exclude_from_leaderboard:!1}).eq("id",l);if(u)throw u;T(`${i} has been restored to the leaderboard`),await A()}catch{T("Failed to restore user to leaderboard")}},n=d.filter(l=>l.name?.toLowerCase().includes(h.toLowerCase())||l.mobile_e164?.includes(h)||l.bk_centre_name?.toLowerCase().includes(h.toLowerCase())),j=g.filter(l=>l.name?.toLowerCase().includes(h.toLowerCase())||l.mobile_e164?.includes(h)||l.bk_centre_name?.toLowerCase().includes(h.toLowerCase()));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Te,{className:"w-6 h-6 text-yellow-400"}),e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Leaderboard Management"})]}),e.jsxs("button",{onClick:A,disabled:N,className:"flex items-center gap-2 px-4 py-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition-colors disabled:opacity-50",children:[e.jsx(Xe,{className:`w-4 h-4 ${N?"animate-spin":""}`}),"Refresh"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-teal-500/20",children:[e.jsx("div",{className:"text-teal-400 text-sm mb-1",children:"Active Users"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:d.length})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-red-500/20",children:[e.jsx("div",{className:"text-red-400 text-sm mb-1",children:"Excluded from Leaderboard"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:g.length})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-yellow-500/20",children:[e.jsx("div",{className:"text-yellow-400 text-sm mb-1",children:"Total Users"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:d.length+g.length})]})]}),M&&e.jsxs("div",{className:"bg-teal-500/20 border border-teal-500/50 rounded-lg p-4 text-teal-300 flex items-start gap-3",children:[e.jsx(ss,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:M})]}),e.jsx("div",{className:"bg-white/5 rounded-lg p-4 border border-teal-500/20",children:e.jsxs("div",{className:"relative",children:[e.jsx(as,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-teal-400 w-5 h-5"}),e.jsx("input",{type:"text",value:h,onChange:l=>y(l.target.value),placeholder:"Search by name, phone, or BK centre...",className:"w-full pl-10 pr-4 py-3 bg-white/5 border border-teal-500/30 rounded-lg text-white focus:outline-none focus:border-teal-500 transition-colors"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>F("active"),className:`px-4 py-2 rounded-lg font-semibold transition-all ${k==="active"?"bg-teal-500 text-white":"bg-white/10 text-teal-300 hover:bg-white/20"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ve,{className:"w-4 h-4"}),"Active in Leaderboard (",d.length,")"]})}),e.jsx("button",{onClick:()=>F("excluded"),className:`px-4 py-2 rounded-lg font-semibold transition-all ${k==="excluded"?"bg-teal-500 text-white":"bg-white/10 text-teal-300 hover:bg-white/20"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"w-4 h-4"}),"Excluded (",g.length,")"]})})]}),k==="active"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-teal-300 text-sm",children:'These users are currently visible in the Top 100 Meditators leaderboard. Click "Exclude" to remove them from all leaderboard views.'}),n.length===0?e.jsxs("div",{className:"bg-white/5 rounded-lg p-8 text-center border border-teal-500/20",children:[e.jsx(Te,{className:"w-12 h-12 text-teal-400 mx-auto mb-3"}),e.jsx("p",{className:"text-teal-300",children:h?"No users found matching your search":"No active users found"})]}):e.jsx("div",{className:"space-y-2",children:n.map(l=>e.jsx("div",{className:"bg-white/5 rounded-lg p-4 border border-teal-500/20 hover:border-teal-500/40 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-white font-semibold text-lg",children:l.name||"Anonymous"}),e.jsx("div",{className:"text-teal-400 text-sm",children:l.bk_centre_name||"No centre specified"}),e.jsxs("div",{className:"text-teal-300 text-xs mt-1",children:["Phone: ",l.mobile_e164||"Not provided"]})]}),e.jsx("div",{className:"flex gap-2",children:E===l.id?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>z(l.id,l.name),className:"px-4 py-2 bg-red-500 text-white rounded-lg text-sm font-semibold hover:bg-red-600 transition-colors",children:"Confirm Exclude"}),e.jsx("button",{onClick:()=>C(null),className:"px-4 py-2 bg-gray-500 text-white rounded-lg text-sm font-semibold hover:bg-gray-600 transition-colors",children:"Cancel"})]}):e.jsxs("button",{onClick:()=>C(l.id),className:"px-4 py-2 bg-yellow-500 text-white rounded-lg text-sm font-semibold hover:bg-yellow-600 transition-colors flex items-center gap-2",children:[e.jsx(qe,{className:"w-4 h-4"}),"Exclude from Leaderboard"]})})]})},l.id))})]}),k==="excluded"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-red-300 text-sm",children:'These users are currently hidden from the Top 100 Meditators leaderboard. Click "Restore" to make them visible again.'}),j.length===0?e.jsxs("div",{className:"bg-white/5 rounded-lg p-8 text-center border border-teal-500/20",children:[e.jsx(Ve,{className:"w-12 h-12 text-green-400 mx-auto mb-3"}),e.jsx("p",{className:"text-teal-300",children:h?"No excluded users found matching your search":"No users are currently excluded from the leaderboard"})]}):e.jsx("div",{className:"space-y-2",children:j.map(l=>e.jsx("div",{className:"bg-red-500/10 rounded-lg p-4 border border-red-500/30 hover:border-red-500/50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(qe,{className:"w-4 h-4 text-red-400"}),e.jsx("span",{className:"text-red-400 text-xs font-semibold",children:"EXCLUDED FROM LEADERBOARD"})]}),e.jsx("div",{className:"text-white font-semibold text-lg",children:l.name||"Anonymous"}),e.jsx("div",{className:"text-teal-400 text-sm",children:l.bk_centre_name||"No centre specified"}),e.jsxs("div",{className:"text-teal-300 text-xs mt-1",children:["Phone: ",l.mobile_e164||"Not provided"]})]}),e.jsxs("button",{onClick:()=>x(l.id,l.name),className:"px-4 py-2 bg-green-500 text-white rounded-lg text-sm font-semibold hover:bg-green-600 transition-colors flex items-center gap-2",children:[e.jsx(Ve,{className:"w-4 h-4"}),"Restore to Leaderboard"]})]})},l.id))})]})]})},Ns=()=>{const{t:d,i18n:D}=We();fs();const{colors:g,updateTheme:p}=ws(),[N,f]=r.useState(""),[M,T]=r.useState(!1),[h,y]=r.useState(!1),[k,F]=r.useState(""),[E,C]=r.useState(""),[A,$]=r.useState(!1),[I,z]=r.useState(""),[x,n]=r.useState(!1),[j,l]=r.useState(""),[i,u]=r.useState("youtube"),[S,W]=r.useState(""),[se,ge]=r.useState(""),[ie,ne]=r.useState(null),[de,Ee]=r.useState([]),[L,Q]=r.useState(null),[_,X]=r.useState({text:"",author:"",language:"en"}),[pe,a]=r.useState(!1),[m,w]=r.useState(g),[P,ae]=r.useState(null),[fe,we]=r.useState(""),[ce,Je]=r.useState(""),[Ke,Ze]=r.useState(!1),[J,et]=r.useState(""),[ye,tt]=r.useState(!1),[st,at]=r.useState(null),[pt,ft]=r.useState([]),[K,Ie]=r.useState(!0),[Z,Le]=r.useState(!0),[ee,Pe]=r.useState(!0),[te,Me]=r.useState("night"),[O,wt]=r.useState([]),[q,me]=r.useState(null),[Y,je]=r.useState({title:"",youtube_url:""}),[Ue,Fe]=r.useState(!1),[lt,yt]=r.useState(null),[G,jt]=r.useState([]),[V,ue]=r.useState(null),[H,ve]=r.useState({title:"",youtube_url:""}),[$e,Re]=r.useState(!1),vt="sakash2024",Ne=[{code:"en",name:"English"},{code:"hi",name:"Hindi"},{code:"te",name:"Telugu"},{code:"ta",name:"Tamil"},{code:"ml",name:"Malayalam"},{code:"bn",name:"Bengali"},{code:"pa",name:"Punjabi"},{code:"kn",name:"Kannada"},{code:"or",name:"Odia"},{code:"ru",name:"Russian"},{code:"de",name:"German"},{code:"fr",name:"French"}];r.useEffect(()=>{M&&(Nt(),he(),_t(),Lt(),Pt(),Mt(),Ut(),le(),re())},[M]),r.useEffect(()=>{w(g)},[g]);const Nt=async()=>{const{data:t}=await o.from("settings").select("value").eq("key","youtube_url").maybeSingle();t&&z(t.value||"")},he=async()=>{const{data:t}=await o.from("quotes").select("*").order("created_at",{ascending:!1});t&&Ee(t)},_t=async()=>{const{data:t}=await o.from("help_settings").select("*").eq("is_active",!0).order("updated_at",{ascending:!1}).limit(1),s=Array.isArray(t)&&t.length>0?t[0]:null;s&&(ne(s.id),W(s.youtube_url||""),ge(s.image_url||""))},kt=async t=>{t.preventDefault();const{data:s}=await o.from("admin_credentials").select("password_hash").eq("password_hash",N).maybeSingle();s||N===vt?(T(!0),l("")):l(d("admin.incorrectPassword"))},Ct=async t=>{t.preventDefault(),$(!0),C("");try{const{data:s}=await o.from("admin_credentials").select("id, email").eq("email",k).maybeSingle();if(!s){C("Email not found in admin records"),$(!1);return}const c=crypto.randomUUID(),b=new Date(Date.now()+36e5),{error:v}=await o.from("admin_credentials").update({reset_token:c,reset_token_expires:b.toISOString(),updated_at:new Date().toISOString()}).eq("id",s.id);if(v)throw v;const U=`${window.location.origin}/admin?reset=${c}`;C(`Password reset link has been generated:

${U}

This link will expire in 1 hour. Please check your email (simulated for demo).`)}catch{C("Failed to process password reset request")}finally{$(!1)}},St=async t=>{t.preventDefault(),n(!0),l("");try{const{data:s}=await o.from("settings").select("id").eq("key","youtube_url").maybeSingle();if(s){const{error:c}=await o.from("settings").update({value:I,updated_at:new Date().toISOString()}).eq("id",s.id);if(c)throw c}else{const{error:c}=await o.from("settings").insert({key:"youtube_url",value:I});if(c)throw c}l(d("admin.successMessage"))}catch{l(d("admin.errorMessage"))}finally{n(!1)}},Dt=async t=>{t.preventDefault(),n(!0),l("");try{const{error:s}=await o.from("quotes").insert({text:_.text,author:_.author,language:_.language,is_active:!0});if(s)throw s;l("Quote added successfully!"),X({text:"",author:"",language:"en"}),a(!1),he()}catch{l("Failed to add quote")}finally{n(!1)}},At=async t=>{if(t.preventDefault(),!!L){n(!0),l("");try{const{error:s}=await o.from("quotes").update({text:L.text,author:L.author,language:L.language,is_active:L.is_active}).eq("id",L.id);if(s)throw s;l("Quote updated successfully!"),Q(null),he()}catch{l("Failed to update quote")}finally{n(!1)}}},Tt=async t=>{if(confirm("Are you sure you want to delete this quote?"))try{const{error:s}=await o.from("quotes").delete().eq("id",t);if(s)throw s;l("Quote deleted successfully!"),he()}catch{l("Failed to delete quote")}},Et=async t=>{try{const{error:s}=await o.from("quotes").update({is_active:!t.is_active}).eq("id",t.id);if(s)throw s;he()}catch{}},It=async t=>{t.preventDefault(),n(!0),l("");try{const s=new Date().toISOString(),{data:c,error:b}=await o.from("help_settings").upsert({id:ie??void 0,youtube_url:S,image_url:se,is_active:!0,updated_at:s},{onConflict:"id"}).select().maybeSingle();if(b)throw b;const v=c?.id??ie;if(v){ne(v);const{error:U}=await o.from("help_settings").update({is_active:!1}).neq("id",v);if(U)throw U}l("Help settings saved successfully!")}catch{l("Failed to save help settings")}finally{n(!1)}},Lt=async()=>{const{data:t}=await o.from("hero_settings").select("*").maybeSingle();t&&we(t.image_url||"")},Pt=async()=>{const{data:t}=await o.from("announcement_settings").select("*").maybeSingle();t&&(at(t.id),et(t.message||""),tt(t.is_active||!1))},Mt=async()=>{const{data:t}=await o.from("theme_presets").select("*").eq("is_active",!0).order("name",{ascending:!0});t&&ft(t)},Ut=async()=>{try{const{data:t,error:s}=await o.from("settings").select("value").eq("key","active_meditators_visible").maybeSingle();s||Ie(t?t.value==="true":!0);const{data:c,error:b}=await o.from("settings").select("value").eq("key","meditation_room_visible").maybeSingle();b||Le(c?c.value==="true":!1);const{data:v,error:U}=await o.from("settings").select("value").eq("key","leaderboard_visible").maybeSingle();U||Pe(v?v.value==="true":!0);const{data:R,error:_e}=await o.from("settings").select("value").eq("key","globe_day_night_mode").maybeSingle();_e||Me(R?R.value:"night")}catch{}},Ft=async t=>{t.preventDefault(),n(!0),l("");try{await p(m),l("Theme updated successfully! Changes will reflect across all pages.")}catch{l("Failed to update theme")}finally{n(!1)}},$t=async t=>{if(t.preventDefault(),!!P){Ze(!0),l("");try{const s=P.name.split(".").pop(),b=`${`hero-${Date.now()}.${s}`}`,{error:v}=await o.storage.from("hero-images").upload(b,P,{cacheControl:"3600",upsert:!0});if(v)throw v;const{data:U}=o.storage.from("hero-images").getPublicUrl(b),R=U.publicUrl,{data:_e}=await o.from("hero_settings").select("id").maybeSingle();_e?await o.from("hero_settings").update({image_url:R,storage_path:b,updated_at:new Date().toISOString()}).eq("id",_e.id):await o.from("hero_settings").insert({image_url:R,storage_path:b}),we(R),ae(null),Je(""),l("Hero image updated successfully!")}catch{l("Failed to upload hero image")}finally{Ze(!1)}}},Rt=async t=>{t.preventDefault(),n(!0),l("");try{if(st)await o.from("announcement_settings").update({message:J,is_active:ye,updated_at:new Date().toISOString()}).eq("id",st);else{const{data:s}=await o.from("announcement_settings").insert({message:J,is_active:ye}).select().single();s&&at(s.id)}l("Announcement saved successfully!")}catch{l("Failed to save announcement")}finally{n(!1)}},Vt=async t=>{n(!0),l("");try{const s={primaryColor:t.primary_color,secondaryColor:t.secondary_color,accentColor:t.accent_color,backgroundColor:t.background_color};await p(s),w(s),l(`${t.name} theme applied successfully!`)}catch{l("Failed to apply theme preset")}finally{n(!1)}},qt=async()=>{n(!0),l("");try{const{error:t}=await o.from("settings").upsert({id:"00000000-0000-0000-0000-000000000003",key:"active_meditators_visible",value:K?"true":"false",updated_at:new Date().toISOString()},{onConflict:"key"});if(t)throw t;const{error:s}=await o.from("settings").upsert({id:"00000000-0000-0000-0000-000000000010",key:"meditation_room_visible",value:Z?"true":"false",updated_at:new Date().toISOString()},{onConflict:"key"});if(s)throw s;const{error:c}=await o.from("settings").upsert({id:"00000000-0000-0000-0000-000000000001",key:"leaderboard_visible",value:ee?"true":"false",updated_at:new Date().toISOString()},{onConflict:"key"});if(c)throw c;const{error:b}=await o.from("settings").upsert({id:"00000000-0000-0000-0000-000000000002",key:"globe_day_night_mode",value:te,updated_at:new Date().toISOString()},{onConflict:"key"});if(b)throw b;l("Display settings saved successfully!")}catch{l("Failed to save display settings. Check console for details.")}finally{n(!1)}},le=async()=>{const{data:t}=await o.from("meditation_rooms").select("id").eq("is_active",!0).maybeSingle();if(t){yt(t.id);const{data:s}=await o.from("meditation_room_videos").select("*").eq("room_id",t.id).order("display_order",{ascending:!0});s&&wt(s)}},Ht=async t=>{if(t.preventDefault(),!!lt){n(!0),l("");try{const s=O.length>0?Math.max(...O.map(b=>b.display_order)):-1,{error:c}=await o.from("meditation_room_videos").insert({room_id:lt,title:Y.title,youtube_url:Y.youtube_url,display_order:s+1,is_active:!0});if(c)throw c;l("Video added successfully!"),je({title:"",youtube_url:""}),Fe(!1),le()}catch{l("Failed to add video")}finally{n(!1)}}},Ot=async t=>{if(t.preventDefault(),!!q){n(!0),l("");try{const{error:s}=await o.from("meditation_room_videos").update({title:q.title,youtube_url:q.youtube_url,is_active:q.is_active}).eq("id",q.id);if(s)throw s;l("Video updated successfully!"),me(null),le()}catch{l("Failed to update video")}finally{n(!1)}}},Yt=async t=>{if(confirm("Are you sure you want to delete this video?"))try{const{error:s}=await o.from("meditation_room_videos").delete().eq("id",t);if(s)throw s;l("Video deleted successfully!"),le()}catch{l("Failed to delete video")}},Gt=async t=>{try{const{error:s}=await o.from("meditation_room_videos").update({is_active:!t.is_active}).eq("id",t.id);if(s)throw s;le()}catch{}},rt=async(t,s)=>{const c=O.findIndex(R=>R.id===t);if(c===-1)return;const b=s==="up"?c-1:c+1;if(b<0||b>=O.length)return;const v=O[c],U=O[b];try{await o.from("meditation_room_videos").update({display_order:U.display_order}).eq("id",v.id),await o.from("meditation_room_videos").update({display_order:v.display_order}).eq("id",U.id),le()}catch{}},zt=t=>{const s=t.target.files?.[0];if(s){ae(s);const c=new FileReader;c.onloadend=()=>{Je(c.result)},c.readAsDataURL(s)}},B=t=>{if(!t)return"";if(t.includes("embed"))return t;const s=/(?:youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/,c=t.match(s);return c&&c[1]?`https://www.youtube.com/embed/${c[1]}`:""},Qt=t=>{if(!t)return null;const s=/(?:youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/,c=t.match(s);return c&&c[1]?c[1]:null},ot=t=>{const s=Qt(t);return s?`https://img.youtube.com/vi/${s}/hqdefault.jpg`:null},re=async()=>{const{data:t}=await o.from("good_wishes_videos").select("*").order("order_index",{ascending:!0});jt(t||[])},Bt=async t=>{t.preventDefault(),n(!0),l("");try{const s=G.length>0?Math.max(...G.map(v=>v.order_index||0)):-1,c=ot(H.youtube_url),{error:b}=await o.from("good_wishes_videos").insert({title:H.title,youtube_url:H.youtube_url,thumbnail_url:c,is_active:!0,order_index:s+1});if(b)throw b;l("Good Wish video added successfully!"),ve({title:"",youtube_url:""}),Re(!1),re()}catch{l("Failed to add Good Wish video")}finally{n(!1)}},Wt=async t=>{if(t.preventDefault(),!!V){n(!0),l("");try{const s=ot(V.youtube_url),{error:c}=await o.from("good_wishes_videos").update({title:V.title,youtube_url:V.youtube_url,thumbnail_url:s,is_active:V.is_active}).eq("id",V.id);if(c)throw c;l("Good Wish video updated successfully!"),ue(null),re()}catch{l("Failed to update Good Wish video")}finally{n(!1)}}},Xt=async t=>{if(confirm("Delete this Good Wish video?"))try{const{error:s}=await o.from("good_wishes_videos").delete().eq("id",t);if(s)throw s;l("Good Wish video deleted successfully!"),re()}catch{l("Failed to delete Good Wish video")}},Jt=async t=>{try{const{error:s}=await o.from("good_wishes_videos").update({is_active:!t.is_active}).eq("id",t.id);if(s)throw s;re()}catch{}},it=async(t,s)=>{const c=G.findIndex(R=>R.id===t);if(c===-1)return;const b=s==="up"?c-1:c+1;if(b<0||b>=G.length)return;const v=G[c],U=G[b];try{await o.from("good_wishes_videos").update({order_index:U.order_index}).eq("id",v.id),await o.from("good_wishes_videos").update({order_index:v.order_index}).eq("id",U.id),re()}catch{}};return M?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-teal-800 to-emerald-900 p-4 md:p-8",children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx(Be,{})}),e.jsx("div",{className:"max-w-5xl mx-auto",children:e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 shadow-2xl border border-teal-500/20",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-8",children:d("admin.panelTitle")}),e.jsxs("div",{className:"flex gap-4 mb-6 flex-wrap",children:[e.jsxs("button",{onClick:()=>u("youtube"),className:`flex items-center gap-2 px-6 py-3 rounded-lg font-semibold transition-all ${i==="youtube"?"bg-teal-500 text-white":"bg-white/10 text-teal-300 hover:bg-white/20"}`,children:[e.jsx(He,{className:"w-5 h-5"}),"YouTube"]}),e.jsxs("button",{onClick:()=>u("quotes"),className:`flex items-center gap-2 px-6 py-3 rounded-lg font-semibold transition-all ${i==="quotes"?"bg-teal-500 text-white":"bg-white/10 text-teal-300 hover:bg-white/20"}`,children:[e.jsx(is,{className:"w-5 h-5"}),"Quotes"]}),e.jsxs("button",{onClick:()=>u("help"),className:`flex items-center gap-2 px-6 py-3 rounded-lg font-semibold transition-all ${i==="help"?"bg-teal-500 text-white":"bg-white/10 text-teal-300 hover:bg-white/20"}`,children:[e.jsx(ns,{className:"w-5 h-5"}),"Help"]}),e.jsxs("button",{onClick:()=>u("theme"),className:`flex items-center gap-2 px-6 py-3 rounded-lg font-semibold transition-all ${i==="theme"?"bg-teal-500 text-white":"bg-white/10 text-teal-300 hover:bg-white/20"}`,children:[e.jsx(ds,{className:"w-5 h-5"}),"Theme"]}),e.jsxs("button",{onClick:()=>u("hero"),className:`flex items-center gap-2 px-6 py-3 rounded-lg font-semibold transition-all ${i==="hero"?"bg-teal-500 text-white":"bg-white/10 text-teal-300 hover:bg-white/20"}`,children:[e.jsx(cs,{className:"w-5 h-5"}),"Hero"]}),e.jsxs("button",{onClick:()=>u("announcement"),className:`flex items-center gap-2 px-6 py-3 rounded-lg font-semibold transition-all ${i==="announcement"?"bg-teal-500 text-white":"bg-white/10 text-teal-300 hover:bg-white/20"}`,children:[e.jsx(Ce,{className:"w-5 h-5"}),"Announcement"]}),e.jsxs("button",{onClick:()=>u("presets"),className:`flex items-center gap-2 px-6 py-3 rounded-lg font-semibold transition-all ${i==="presets"?"bg-teal-500 text-white":"bg-white/10 text-teal-300 hover:bg-white/20"}`,children:[e.jsx(ms,{className:"w-5 h-5"}),"Presets"]}),e.jsxs("button",{onClick:()=>u("display"),className:`flex items-center gap-2 px-6 py-3 rounded-lg font-semibold transition-all ${i==="display"?"bg-teal-500 text-white":"bg-white/10 text-teal-300 hover:bg-white/20"}`,children:[e.jsx(be,{className:"w-5 h-5"}),"Display"]}),e.jsxs("button",{onClick:()=>u("notifications"),className:`flex items-center gap-2 px-6 py-3 rounded-lg font-semibold transition-all ${i==="notifications"?"bg-teal-500 text-white":"bg-white/10 text-teal-300 hover:bg-white/20"}`,children:[e.jsx(us,{className:"w-5 h-5"}),"Notifications"]}),e.jsxs("button",{onClick:()=>u("room"),className:`flex items-center gap-2 px-6 py-3 rounded-lg font-semibold transition-all ${i==="room"?"bg-teal-500 text-white":"bg-white/10 text-teal-300 hover:bg-white/20"}`,children:[e.jsx(Oe,{className:"w-5 h-5"}),"Room"]}),e.jsxs("button",{onClick:()=>u("goodwishes"),className:`flex items-center gap-2 px-6 py-3 rounded-lg font-semibold transition-all ${i==="goodwishes"?"bg-teal-500 text-white":"bg-white/10 text-teal-300 hover:bg-white/20"}`,children:[e.jsx(Ye,{className:"w-5 h-5"}),"Good Wishes"]}),e.jsxs("button",{onClick:()=>u("leaderboard"),className:`flex items-center gap-2 px-6 py-3 rounded-lg font-semibold transition-all ${i==="leaderboard"?"bg-teal-500 text-white":"bg-white/10 text-teal-300 hover:bg-white/20"}`,children:[e.jsx(Te,{className:"w-5 h-5"}),"Leaderboard"]}),e.jsxs("button",{onClick:()=>u("duplicates"),className:`flex items-center gap-2 px-6 py-3 rounded-lg font-semibold transition-all ${i==="duplicates"?"bg-teal-500 text-white":"bg-white/10 text-teal-300 hover:bg-white/20"}`,children:[e.jsx(bt,{className:"w-5 h-5"}),"Duplicates"]})]}),j&&e.jsx("div",{className:`p-4 rounded-lg mb-6 ${j.includes("success")?"bg-green-500/20 text-green-300 border border-green-500/30":"bg-red-500/20 text-red-300 border border-red-500/30"}`,children:j}),i==="youtube"&&e.jsxs("form",{onSubmit:St,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-teal-300 mb-2 text-lg font-semibold flex items-center gap-2",children:[e.jsx(He,{size:20}),d("admin.youtubeLabel")]}),e.jsx("input",{type:"text",value:I,onChange:t=>z(t.target.value),className:"w-full px-4 py-3 bg-white/5 border border-teal-500/30 rounded-lg text-white focus:outline-none focus:border-teal-500 transition-colors",placeholder:d("admin.youtubePlaceholder"),required:!0}),e.jsx("p",{className:"text-teal-400 text-sm mt-2",children:d("admin.youtubeHelper")})]}),I&&e.jsxs("div",{className:"bg-white/5 rounded-xl p-4 border border-teal-500/20",children:[e.jsx("p",{className:"text-teal-300 text-sm mb-3 font-semibold",children:d("admin.preview")}),B(I)?e.jsx("div",{className:"aspect-video bg-black rounded-lg overflow-hidden",children:e.jsx("iframe",{src:B(I),title:"YouTube Preview",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})}):e.jsx("div",{className:"aspect-video bg-red-500/10 border border-red-500/30 rounded-lg flex items-center justify-center",children:e.jsx("p",{className:"text-red-400 text-center px-4",children:"Invalid YouTube URL format. Preview not available."})})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{type:"submit",disabled:x,className:"flex-1 flex items-center justify-center gap-2 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg font-semibold hover:shadow-lg hover:shadow-green-500/50 transition-all duration-300 disabled:opacity-50",children:[e.jsx(xe,{className:"w-5 h-5"}),d(x?"common.saving":"common.save")]}),e.jsx("a",{href:"/",className:"flex-1 flex items-center justify-center py-3 bg-white/10 text-white rounded-lg font-semibold hover:bg-white/20 transition-all duration-300 border border-teal-500/30",children:d("common.backToDashboard")})]})]}),i==="quotes"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Inspirational Quotes"}),e.jsxs("button",{onClick:()=>a(!pe),className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg font-semibold hover:bg-green-600 transition-all",children:[e.jsx(Se,{className:"w-5 h-5"}),"Add Quote"]})]}),pe&&e.jsxs("form",{onSubmit:Dt,className:"bg-white/5 rounded-xl p-6 border border-teal-500/20 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-teal-300 mb-2",children:"Quote Text"}),e.jsx("textarea",{value:_.text,onChange:t=>X({..._,text:t.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-teal-500/30 rounded-lg text-white focus:outline-none focus:border-teal-500 transition-colors",rows:3,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-teal-300 mb-2",children:"Author"}),e.jsx("input",{type:"text",value:_.author,onChange:t=>X({..._,author:t.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-teal-500/30 rounded-lg text-white focus:outline-none focus:border-teal-500 transition-colors",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-teal-300 mb-2",children:"Language"}),e.jsx("select",{value:_.language,onChange:t=>X({..._,language:t.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-teal-500/30 rounded-lg text-white focus:outline-none focus:border-teal-500 transition-colors",children:Ne.map(t=>e.jsx("option",{value:t.code,className:"bg-gray-800",children:t.name},t.code))})]}),_.text&&_.author&&e.jsxs("div",{className:"bg-white/5 rounded-xl p-4 border border-teal-500/20",children:[e.jsx("p",{className:"text-teal-300 text-sm mb-3 font-semibold",children:"Live Preview"}),e.jsxs("div",{className:"bg-gradient-to-br from-teal-900/50 to-blue-900/50 rounded-lg p-6 border border-teal-500/30",children:[e.jsxs("p",{className:"text-white text-lg italic mb-2",children:['"',_.text,'"']}),e.jsxs("p",{className:"text-teal-400",children:["- ",_.author]}),e.jsx("div",{className:"mt-3",children:e.jsx("span",{className:"text-sm text-teal-300 bg-teal-900/30 px-3 py-1 rounded-full",children:Ne.find(t=>t.code===_.language)?.name||_.language})})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"submit",disabled:x,className:"flex-1 py-3 bg-green-500 text-white rounded-lg font-semibold hover:bg-green-600 transition-all disabled:opacity-50",children:x?"Adding...":"Add Quote"}),e.jsx("button",{type:"button",onClick:()=>{a(!1),X({text:"",author:"",language:"en"})},className:"flex-1 py-3 bg-white/10 text-white rounded-lg font-semibold hover:bg-white/20 transition-all",children:"Cancel"})]})]}),e.jsx("div",{className:"space-y-4",children:de.map(t=>e.jsx("div",{className:`bg-white/5 rounded-xl p-6 border transition-all ${t.is_active?"border-green-500/30":"border-gray-500/30 opacity-60"}`,children:L?.id===t.id?e.jsxs("form",{onSubmit:At,className:"space-y-4",children:[e.jsx("textarea",{value:L.text,onChange:s=>Q({...L,text:s.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-teal-500/30 rounded-lg text-white focus:outline-none focus:border-teal-500",rows:3}),e.jsx("input",{type:"text",value:L.author,onChange:s=>Q({...L,author:s.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-teal-500/30 rounded-lg text-white focus:outline-none focus:border-teal-500"}),e.jsx("select",{value:L.language,onChange:s=>Q({...L,language:s.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-teal-500/30 rounded-lg text-white focus:outline-none focus:border-teal-500",children:Ne.map(s=>e.jsx("option",{value:s.code,className:"bg-gray-800",children:s.name},s.code))}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"submit",disabled:x,className:"flex-1 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50",children:"Save"}),e.jsx("button",{type:"button",onClick:()=>Q(null),className:"flex-1 py-2 bg-white/10 text-white rounded-lg hover:bg-white/20",children:"Cancel"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-white text-lg italic mb-2",children:['"',t.text,'"']}),e.jsxs("p",{className:"text-teal-400 mb-4",children:["- ",t.author]}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("span",{className:"text-sm text-teal-300 bg-teal-900/30 px-3 py-1 rounded-full",children:Ne.find(s=>s.code===t.language)?.name||t.language}),e.jsx("span",{className:`text-sm px-3 py-1 rounded-full ${t.is_active?"text-green-300 bg-green-900/30":"text-gray-400 bg-gray-900/30"}`,children:t.is_active?"Active":"Inactive"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>Q(t),className:"flex items-center gap-2 px-4 py-2 bg-blue-500/20 text-blue-300 rounded-lg hover:bg-blue-500/30 transition-all",children:[e.jsx(De,{className:"w-4 h-4"}),"Edit"]}),e.jsx("button",{onClick:()=>Et(t),className:`px-4 py-2 rounded-lg transition-all ${t.is_active?"bg-yellow-500/20 text-yellow-300 hover:bg-yellow-500/30":"bg-green-500/20 text-green-300 hover:bg-green-500/30"}`,children:t.is_active?"Deactivate":"Activate"}),e.jsxs("button",{onClick:()=>Tt(t.id),className:"flex items-center gap-2 px-4 py-2 bg-red-500/20 text-red-300 rounded-lg hover:bg-red-500/30 transition-all",children:[e.jsx(Ae,{className:"w-4 h-4"}),"Delete"]})]})]})},t.id))}),e.jsx("a",{href:"/",className:"block text-center py-3 bg-white/10 text-white rounded-lg font-semibold hover:bg-white/20 transition-all duration-300 border border-teal-500/30",children:d("common.backToDashboard")})]}),i==="help"&&e.jsxs("form",{onSubmit:It,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-teal-300 mb-2 text-lg font-semibold flex items-center gap-2",children:[e.jsx(He,{size:20}),"Help Video YouTube URL"]}),e.jsx("input",{type:"text",value:S,onChange:t=>W(t.target.value),className:"w-full px-4 py-3 bg-white/5 border border-teal-500/30 rounded-lg text-white focus:outline-none focus:border-teal-500 transition-colors",placeholder:"Enter YouTube video URL for help"}),e.jsx("p",{className:"text-teal-400 text-sm mt-2",children:'This video will be shown when users click the "Project Help" button'})]}),S&&e.jsxs("div",{className:"bg-white/5 rounded-xl p-4 border border-teal-500/20",children:[e.jsx("p",{className:"text-teal-300 text-sm mb-3 font-semibold",children:"Video Preview"}),B(S)?e.jsx("div",{className:"aspect-video bg-black rounded-lg overflow-hidden",children:e.jsx("iframe",{src:B(S),title:"Help Video Preview",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})}):e.jsx("div",{className:"aspect-video bg-red-500/10 border border-red-500/30 rounded-lg flex items-center justify-center",children:e.jsx("p",{className:"text-red-400 text-center px-4",children:"Invalid YouTube URL format. Preview not available."})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-teal-300 mb-2 text-lg font-semibold flex items-center gap-2",children:[e.jsx(Ge,{size:20}),"Help Image URL"]}),e.jsx("input",{type:"text",value:se,onChange:t=>ge(t.target.value),className:"w-full px-4 py-3 bg-white/5 border border-teal-500/30 rounded-lg text-white focus:outline-none focus:border-teal-500 transition-colors",placeholder:"Enter image URL (e.g., https://example.com/image.jpg)"}),e.jsx("p",{className:"text-teal-400 text-sm mt-2",children:"This image will be displayed in the help modal along with the video"})]}),se&&e.jsxs("div",{className:"bg-white/5 rounded-xl p-4 border border-teal-500/20",children:[e.jsx("p",{className:"text-teal-300 text-sm mb-3 font-semibold",children:"Image Preview"}),e.jsx("img",{src:se,alt:"Help Preview",className:"w-full max-h-96 object-contain rounded-lg",onError:t=>{const s=t.currentTarget;s.style.display="none";const c=document.createElement("div");c.className="bg-red-500/10 border border-red-500/30 rounded-lg p-8 flex items-center justify-center",c.innerHTML='<p class="text-red-400 text-center">Failed to load image. Please check the URL.</p>',s.parentElement?.appendChild(c)}})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{type:"submit",disabled:x,className:"flex-1 flex items-center justify-center gap-2 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg font-semibold hover:shadow-lg hover:shadow-green-500/50 transition-all duration-300 disabled:opacity-50",children:[e.jsx(xe,{className:"w-5 h-5"}),x?"Saving...":"Save Help Settings"]}),e.jsx("a",{href:"/",className:"flex-1 flex items-center justify-center py-3 bg-white/10 text-white rounded-lg font-semibold hover:bg-white/20 transition-all duration-300 border border-teal-500/30",children:d("common.backToDashboard")})]})]}),i==="theme"&&e.jsxs("form",{onSubmit:Ft,className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Theme Color Settings"}),e.jsx("p",{className:"text-teal-300 mb-6",children:"Customize the color theme of your application. Changes will update instantly across all pages."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-teal-300 mb-2",children:"Primary Color"}),e.jsxs("div",{className:"flex gap-3 items-center",children:[e.jsx("input",{type:"color",value:m.primaryColor,onChange:t=>w({...m,primaryColor:t.target.value}),className:"w-20 h-12 rounded-lg cursor-pointer border-2 border-teal-500/30"}),e.jsx("input",{type:"text",value:m.primaryColor,onChange:t=>w({...m,primaryColor:t.target.value}),className:"flex-1 px-4 py-3 bg-white/5 border border-teal-500/30 rounded-lg text-white focus:outline-none focus:border-teal-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-teal-300 mb-2",children:"Secondary Color"}),e.jsxs("div",{className:"flex gap-3 items-center",children:[e.jsx("input",{type:"color",value:m.secondaryColor,onChange:t=>w({...m,secondaryColor:t.target.value}),className:"w-20 h-12 rounded-lg cursor-pointer border-2 border-teal-500/30"}),e.jsx("input",{type:"text",value:m.secondaryColor,onChange:t=>w({...m,secondaryColor:t.target.value}),className:"flex-1 px-4 py-3 bg-white/5 border border-teal-500/30 rounded-lg text-white focus:outline-none focus:border-teal-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-teal-300 mb-2",children:"Accent Color"}),e.jsxs("div",{className:"flex gap-3 items-center",children:[e.jsx("input",{type:"color",value:m.accentColor,onChange:t=>w({...m,accentColor:t.target.value}),className:"w-20 h-12 rounded-lg cursor-pointer border-2 border-teal-500/30"}),e.jsx("input",{type:"text",value:m.accentColor,onChange:t=>w({...m,accentColor:t.target.value}),className:"flex-1 px-4 py-3 bg-white/5 border border-teal-500/30 rounded-lg text-white focus:outline-none focus:border-teal-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-teal-300 mb-2",children:"Background Color"}),e.jsxs("div",{className:"flex gap-3 items-center",children:[e.jsx("input",{type:"color",value:m.backgroundColor,onChange:t=>w({...m,backgroundColor:t.target.value}),className:"w-20 h-12 rounded-lg cursor-pointer border-2 border-teal-500/30"}),e.jsx("input",{type:"text",value:m.backgroundColor,onChange:t=>w({...m,backgroundColor:t.target.value}),className:"flex-1 px-4 py-3 bg-white/5 border border-teal-500/30 rounded-lg text-white focus:outline-none focus:border-teal-500"})]})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-teal-500/20",children:[e.jsx("p",{className:"text-teal-300 text-sm mb-4 font-semibold",children:"Theme Preview"}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsx("div",{className:"h-20 rounded-lg flex items-center justify-center text-white font-semibold",style:{backgroundColor:m.primaryColor},children:"Primary"}),e.jsx("div",{className:"h-20 rounded-lg flex items-center justify-center text-white font-semibold",style:{backgroundColor:m.secondaryColor},children:"Secondary"}),e.jsx("div",{className:"h-20 rounded-lg flex items-center justify-center text-white font-semibold",style:{backgroundColor:m.accentColor},children:"Accent"}),e.jsx("div",{className:"h-20 rounded-lg flex items-center justify-center text-white font-semibold border border-teal-500/30",style:{backgroundColor:m.backgroundColor},children:"Background"})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{type:"submit",disabled:x,className:"flex-1 flex items-center justify-center gap-2 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg font-semibold hover:shadow-lg hover:shadow-green-500/50 transition-all duration-300 disabled:opacity-50",children:[e.jsx(xe,{className:"w-5 h-5"}),x?"Saving...":"Save Theme"]}),e.jsx("a",{href:"/",className:"flex-1 flex items-center justify-center py-3 bg-white/10 text-white rounded-lg font-semibold hover:bg-white/20 transition-all duration-300 border border-teal-500/30",children:d("common.backToDashboard")})]})]}),i==="hero"&&e.jsxs("form",{onSubmit:$t,className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Hero Banner Image"}),e.jsx("p",{className:"text-teal-300 mb-6",children:"Upload a new hero banner image. Recommended size: 1920x600px or larger. Supports JPG, PNG, WebP."}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-teal-300 mb-2 text-lg font-semibold flex items-center gap-2",children:[e.jsx(Ge,{size:20}),"Upload Hero Image"]}),e.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp,image/gif",onChange:zt,className:"w-full px-4 py-3 bg-white/5 border border-teal-500/30 rounded-lg text-white focus:outline-none focus:border-teal-500 transition-colors file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-teal-500 file:text-white hover:file:bg-teal-600 file:cursor-pointer"})]}),ce&&e.jsxs("div",{className:"bg-white/5 rounded-xl p-4 border border-teal-500/20",children:[e.jsx("p",{className:"text-teal-300 text-sm mb-3 font-semibold",children:"New Image Preview"}),e.jsx("img",{src:ce,alt:"Hero Preview",className:"w-full rounded-lg object-cover max-h-96"})]}),fe&&!ce&&e.jsxs("div",{className:"bg-white/5 rounded-xl p-4 border border-teal-500/20",children:[e.jsx("p",{className:"text-teal-300 text-sm mb-3 font-semibold",children:"Current Hero Image"}),e.jsx("img",{src:fe,alt:"Current Hero",className:"w-full rounded-lg object-cover max-h-96"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{type:"submit",disabled:Ke||!P,className:"flex-1 flex items-center justify-center gap-2 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg font-semibold hover:shadow-lg hover:shadow-green-500/50 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Ge,{className:"w-5 h-5"}),Ke?"Uploading...":"Upload & Save"]}),e.jsx("a",{href:"/",className:"flex-1 flex items-center justify-center py-3 bg-white/10 text-white rounded-lg font-semibold hover:bg-white/20 transition-all duration-300 border border-teal-500/30",children:d("common.backToDashboard")})]})]}),i==="announcement"&&e.jsxs("form",{onSubmit:Rt,className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Announcement Bar"}),e.jsx("p",{className:"text-teal-300 mb-6",children:"Create a scrolling announcement bar that appears at the top of all pages. Perfect for important updates and messages."}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-teal-300 mb-2",children:"Announcement Message"}),e.jsx("textarea",{value:J,onChange:t=>et(t.target.value),className:"w-full px-4 py-3 bg-white/5 border border-teal-500/30 rounded-lg text-white focus:outline-none focus:border-teal-500 transition-colors",rows:3,placeholder:"Enter your announcement message here..."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"announcement-active",checked:ye,onChange:t=>tt(t.target.checked),className:"w-5 h-5 rounded border-teal-500/30 bg-white/5 checked:bg-teal-500 cursor-pointer"}),e.jsx("label",{htmlFor:"announcement-active",className:"text-teal-300 cursor-pointer",children:"Show announcement bar to all users"})]}),J&&e.jsxs("div",{className:"bg-white/5 rounded-xl p-4 border border-teal-500/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("p",{className:"text-teal-300 text-sm font-semibold",children:"Preview"}),!ye&&e.jsx("span",{className:"text-yellow-400 text-xs bg-yellow-500/10 px-3 py-1 rounded-full border border-yellow-500/30",children:'Not Active - Toggle "Show announcement bar" to enable'})]}),e.jsx("div",{className:"bg-gradient-to-r from-yellow-500/20 via-orange-500/20 to-yellow-500/20 border border-yellow-500/30 rounded-lg overflow-hidden",children:e.jsxs("div",{className:"animate-marquee whitespace-nowrap py-3 text-yellow-100 font-medium text-lg",children:[e.jsx("span",{className:"inline-block px-4",children:J}),e.jsx("span",{className:"inline-block px-4",children:J}),e.jsx("span",{className:"inline-block px-4",children:J})]})})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{type:"submit",disabled:x,className:"flex-1 flex items-center justify-center gap-2 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg font-semibold hover:shadow-lg hover:shadow-green-500/50 transition-all duration-300 disabled:opacity-50",children:[e.jsx(xe,{className:"w-5 h-5"}),x?"Saving...":"Save Announcement"]}),e.jsx("a",{href:"/",className:"flex-1 flex items-center justify-center py-3 bg-white/10 text-white rounded-lg font-semibold hover:bg-white/20 transition-all duration-300 border border-teal-500/30",children:d("common.backToDashboard")})]})]}),i==="presets"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Theme Presets"}),e.jsx("p",{className:"text-teal-300 mb-6",children:`Choose from professionally designed color themes. Click "Apply" to instantly update your website's color scheme.`}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:pt.map(t=>e.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-teal-500/20 hover:border-teal-500/40 transition-all",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:t.name}),e.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[e.jsx("div",{className:"h-16 rounded-lg flex items-center justify-center text-white text-xs font-semibold",style:{backgroundColor:t.primary_color},title:"Primary",children:"Primary"}),e.jsx("div",{className:"h-16 rounded-lg flex items-center justify-center text-white text-xs font-semibold",style:{backgroundColor:t.secondary_color},title:"Secondary",children:"Second"}),e.jsx("div",{className:"h-16 rounded-lg flex items-center justify-center text-white text-xs font-semibold",style:{backgroundColor:t.accent_color},title:"Accent",children:"Accent"}),e.jsx("div",{className:"h-16 rounded-lg flex items-center justify-center text-white text-xs font-semibold border border-teal-500/30",style:{backgroundColor:t.background_color},title:"Background",children:"BG"})]}),e.jsx("button",{onClick:()=>Vt(t),disabled:x,className:"w-full py-3 bg-gradient-to-r from-teal-500 to-emerald-600 text-white rounded-lg font-semibold hover:shadow-lg hover:shadow-teal-500/50 transition-all duration-300 disabled:opacity-50",children:x?"Applying...":"Apply Theme"})]},t.id))}),e.jsx("a",{href:"/",className:"block text-center py-3 bg-white/10 text-white rounded-lg font-semibold hover:bg-white/20 transition-all duration-300 border border-teal-500/30",children:d("common.backToDashboard")})]}),i==="display"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Display Settings"}),e.jsx("p",{className:"text-teal-300 mb-6",children:"Control the visibility of various sections on your website. Changes take effect immediately for all users."}),e.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-teal-500/20 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Active Meditators List"}),e.jsx("p",{className:"text-teal-300 text-sm",children:"Show or hide the real-time list of active meditators on the dashboard. The globe visualization will remain visible."})]}),e.jsxs("button",{onClick:()=>Ie(!K),className:`ml-6 relative inline-flex h-12 w-24 items-center rounded-full transition-colors ${K?"bg-green-500":"bg-gray-600"}`,children:[e.jsx("span",{className:`inline-block h-10 w-10 transform rounded-full bg-white transition-transform ${K?"translate-x-12":"translate-x-1"}`}),e.jsx("span",{className:"absolute left-3 text-white text-xs font-bold",children:K?e.jsx(be,{className:"w-5 h-5"}):e.jsx(ze,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"pt-4 border-t border-teal-500/20",children:e.jsxs("div",{className:"flex items-center gap-3 text-sm text-teal-300",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${K?"bg-green-400":"bg-gray-400"}`}),e.jsxs("span",{className:"font-semibold",children:["Active Meditators List is currently ",K?"VISIBLE":"HIDDEN"]})]})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-teal-600/20 to-cyan-600/20 backdrop-blur-md rounded-2xl p-6 border-2 border-teal-500/30",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-2 flex items-center gap-2",children:[e.jsx(Oe,{className:"w-6 h-6 text-teal-400"}),"Meditation Room Button"]}),e.jsx("p",{className:"text-teal-300 text-sm",children:`Show or hide the "Meditation Room" button in the navigation menu. Users won't see the button when hidden.`})]}),e.jsxs("button",{onClick:()=>Le(!Z),className:`ml-6 relative inline-flex h-12 w-24 items-center rounded-full transition-colors ${Z?"bg-green-500":"bg-gray-600"}`,children:[e.jsx("span",{className:`inline-block h-10 w-10 transform rounded-full bg-white transition-transform ${Z?"translate-x-12":"translate-x-1"}`}),e.jsx("span",{className:"absolute left-3 text-white text-xs font-bold",children:Z?e.jsx(be,{className:"w-5 h-5"}):e.jsx(ze,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"pt-4 border-t border-teal-500/20",children:e.jsxs("div",{className:"flex items-center gap-3 text-sm text-teal-300",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${Z?"bg-green-400":"bg-gray-400"}`}),e.jsxs("span",{className:"font-semibold",children:["Meditation Room Button is currently ",Z?"VISIBLE":"HIDDEN"]})]})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-indigo-600/20 to-purple-600/20 backdrop-blur-md rounded-2xl p-6 border-2 border-indigo-500/30",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-2 flex items-center gap-2",children:[e.jsx(xt,{className:"w-6 h-6 text-indigo-400"}),"Globe Meditation Mode"]}),e.jsx("p",{className:"text-indigo-300 text-sm",children:"Switch between Day (bright Earth) or Night (dark glowing Earth) view of the 3D globe for all users."})]}),e.jsxs("button",{onClick:()=>Me(te==="night"?"day":"night"),className:`ml-6 relative inline-flex h-12 w-24 items-center rounded-full transition-colors ${te==="day"?"bg-yellow-400":"bg-indigo-600"}`,children:[e.jsx("span",{className:`inline-block h-10 w-10 transform rounded-full bg-white transition-transform ${te==="day"?"translate-x-12":"translate-x-1"}`}),e.jsx("span",{className:"absolute left-3 text-white text-xs font-bold",children:te==="day"?e.jsx(hs,{className:"w-5 h-5"}):e.jsx(xs,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"pt-4 border-t border-indigo-500/20",children:e.jsxs("div",{className:"flex items-center gap-3 text-sm text-indigo-300",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${te==="day"?"bg-yellow-400":"bg-indigo-400"}`}),e.jsxs("span",{className:"font-semibold",children:["Globe is currently in ",te==="day"?"🌞 DAY":"🌙 NIGHT"," mode"]})]})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-yellow-600/20 to-amber-600/20 backdrop-blur-md rounded-2xl p-6 border-2 border-yellow-500/30",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-2 flex items-center gap-2",children:[e.jsx(Te,{className:"w-6 h-6 text-yellow-400"}),"Top 100 Meditators List"]}),e.jsx("p",{className:"text-yellow-300 text-sm",children:"Show or hide the Top 100 Meditators List section with daily, weekly, and monthly rankings on the dashboard."})]}),e.jsxs("button",{onClick:()=>Pe(!ee),className:`ml-6 relative inline-flex h-12 w-24 items-center rounded-full transition-colors ${ee?"bg-green-500":"bg-gray-600"}`,children:[e.jsx("span",{className:`inline-block h-10 w-10 transform rounded-full bg-white transition-transform ${ee?"translate-x-12":"translate-x-1"}`}),e.jsx("span",{className:"absolute left-3 text-white text-xs font-bold",children:ee?e.jsx(be,{className:"w-5 h-5"}):e.jsx(ze,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"pt-4 border-t border-yellow-500/20",children:e.jsxs("div",{className:"flex items-center gap-3 text-sm text-yellow-300",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${ee?"bg-green-400":"bg-gray-400"}`}),e.jsxs("span",{className:"font-semibold",children:["Leaderboard is currently ",ee?"VISIBLE":"HIDDEN"]})]})})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{onClick:qt,disabled:x,className:"flex-1 flex items-center justify-center gap-2 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg font-semibold hover:shadow-lg hover:shadow-green-500/50 transition-all duration-300 disabled:opacity-50",children:[e.jsx(xe,{className:"w-5 h-5"}),x?"Saving...":"Save Display Settings"]}),e.jsx("a",{href:"/",className:"flex-1 flex items-center justify-center py-3 bg-white/10 text-white rounded-lg font-semibold hover:bg-white/20 transition-all duration-300 border border-teal-500/30",children:d("common.backToDashboard")})]})]}),i==="notifications"&&e.jsx(ys,{}),i==="room"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Meditation Room Videos"}),e.jsxs("button",{onClick:()=>Fe(!Ue),className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg font-semibold hover:bg-green-600 transition-all",children:[e.jsx(Se,{className:"w-5 h-5"}),"Add Video"]})]}),e.jsx("p",{className:"text-teal-300",children:"Manage YouTube videos for the meditation room. Users can select and start meditation with any of these videos."}),Ue&&e.jsxs("form",{onSubmit:Ht,className:"bg-white/5 rounded-xl p-6 border border-teal-500/20 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-teal-300 mb-2",children:"Video Title"}),e.jsx("input",{type:"text",value:Y.title,onChange:t=>je({...Y,title:t.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-teal-500/30 rounded-lg text-white focus:outline-none focus:border-teal-500 transition-colors",placeholder:"Enter a descriptive title for the video",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-teal-300 mb-2",children:"YouTube URL"}),e.jsx("input",{type:"text",value:Y.youtube_url,onChange:t=>je({...Y,youtube_url:t.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-teal-500/30 rounded-lg text-white focus:outline-none focus:border-teal-500 transition-colors",placeholder:"https://www.youtube.com/watch?v=...",required:!0})]}),Y.youtube_url&&e.jsxs("div",{className:"bg-white/5 rounded-xl p-4 border border-teal-500/20",children:[e.jsx("p",{className:"text-teal-300 text-sm mb-3 font-semibold",children:"Preview"}),B(Y.youtube_url)?e.jsx("div",{className:"aspect-video bg-black rounded-lg overflow-hidden",children:e.jsx("iframe",{src:B(Y.youtube_url),title:"Video Preview",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})}):e.jsx("div",{className:"aspect-video bg-red-500/10 border border-red-500/30 rounded-lg flex items-center justify-center",children:e.jsx("p",{className:"text-red-400 text-center px-4",children:"Invalid YouTube URL format. Preview not available."})})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"submit",disabled:x,className:"flex-1 py-3 bg-green-500 text-white rounded-lg font-semibold hover:bg-green-600 transition-all disabled:opacity-50",children:x?"Adding...":"Add Video"}),e.jsx("button",{type:"button",onClick:()=>{Fe(!1),je({title:"",youtube_url:""})},className:"flex-1 py-3 bg-white/10 text-white rounded-lg font-semibold hover:bg-white/20 transition-all",children:"Cancel"})]})]}),e.jsx("div",{className:"space-y-4",children:O.map((t,s)=>e.jsx("div",{className:`bg-white/5 rounded-xl p-6 border transition-all ${t.is_active?"border-green-500/30":"border-gray-500/30 opacity-60"}`,children:q?.id===t.id?e.jsxs("form",{onSubmit:Ot,className:"space-y-4",children:[e.jsx("input",{type:"text",value:q.title,onChange:c=>me({...q,title:c.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-teal-500/30 rounded-lg text-white focus:outline-none focus:border-teal-500",placeholder:"Video Title"}),e.jsx("input",{type:"text",value:q.youtube_url,onChange:c=>me({...q,youtube_url:c.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-teal-500/30 rounded-lg text-white focus:outline-none focus:border-teal-500",placeholder:"YouTube URL"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"submit",disabled:x,className:"flex-1 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50",children:"Save"}),e.jsx("button",{type:"button",onClick:()=>me(null),className:"flex-1 py-2 bg-white/10 text-white rounded-lg hover:bg-white/20",children:"Cancel"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:t.title}),e.jsx("p",{className:"text-teal-400 text-sm break-all",children:t.youtube_url})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:[e.jsx("button",{onClick:()=>rt(t.id,"up"),disabled:s===0,className:"p-2 bg-blue-500/20 text-blue-300 rounded-lg hover:bg-blue-500/30 transition-all disabled:opacity-30 disabled:cursor-not-allowed",title:"Move up",children:e.jsx(ct,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>rt(t.id,"down"),disabled:s===O.length-1,className:"p-2 bg-blue-500/20 text-blue-300 rounded-lg hover:bg-blue-500/30 transition-all disabled:opacity-30 disabled:cursor-not-allowed",title:"Move down",children:e.jsx(mt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsxs("span",{className:"text-sm text-teal-300 bg-teal-900/30 px-3 py-1 rounded-full",children:["Order: ",s+1]}),e.jsx("span",{className:`text-sm px-3 py-1 rounded-full ${t.is_active?"text-green-300 bg-green-900/30":"text-gray-400 bg-gray-900/30"}`,children:t.is_active?"Active":"Inactive"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>me(t),className:"flex items-center gap-2 px-4 py-2 bg-blue-500/20 text-blue-300 rounded-lg hover:bg-blue-500/30 transition-all",children:[e.jsx(De,{className:"w-4 h-4"}),"Edit"]}),e.jsx("button",{onClick:()=>Gt(t),className:`px-4 py-2 rounded-lg transition-all ${t.is_active?"bg-yellow-500/20 text-yellow-300 hover:bg-yellow-500/30":"bg-green-500/20 text-green-300 hover:bg-green-500/30"}`,children:t.is_active?"Deactivate":"Activate"}),e.jsxs("button",{onClick:()=>Yt(t.id),className:"flex items-center gap-2 px-4 py-2 bg-red-500/20 text-red-300 rounded-lg hover:bg-red-500/30 transition-all",children:[e.jsx(Ae,{className:"w-4 h-4"}),"Delete"]})]})]})},t.id))}),O.length===0&&!Ue&&e.jsxs("div",{className:"text-center py-12 bg-white/5 rounded-xl border border-teal-500/20",children:[e.jsx(Oe,{className:"w-16 h-16 text-teal-400 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-teal-300 text-lg",children:"No videos added yet"}),e.jsx("p",{className:"text-teal-400 text-sm mt-2",children:'Click "Add Video" to create your first meditation room video'})]}),e.jsx("a",{href:"/",className:"block text-center py-3 bg-white/10 text-white rounded-lg font-semibold hover:bg-white/20 transition-all duration-300 border border-teal-500/30",children:d("common.backToDashboard")})]}),i==="goodwishes"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[e.jsx(Ye,{className:"w-6 h-6 text-pink-400"}),"Good Wishes Manager"]}),e.jsxs("button",{onClick:()=>Re(!$e),className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg font-semibold hover:bg-green-600 transition-all",children:[e.jsx(Se,{className:"w-5 h-5"}),"Add Video"]})]}),e.jsx("p",{className:"text-teal-300",children:"Manage YouTube videos for the Good Wishes page. Only active videos are shown to users."}),$e&&e.jsxs("form",{onSubmit:Bt,className:"bg-white/5 rounded-xl p-6 border border-teal-500/20 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-teal-300 mb-2",children:"Video Title"}),e.jsx("input",{type:"text",value:H.title,onChange:t=>ve({...H,title:t.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-teal-500/30 rounded-lg text-white focus:outline-none focus:border-teal-500 transition-colors",placeholder:"Enter a descriptive title for the video",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-teal-300 mb-2",children:"YouTube URL"}),e.jsx("input",{type:"text",value:H.youtube_url,onChange:t=>ve({...H,youtube_url:t.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-teal-500/30 rounded-lg text-white focus:outline-none focus:border-teal-500 transition-colors",placeholder:"https://www.youtube.com/watch?v=...",required:!0})]}),H.youtube_url&&e.jsxs("div",{className:"bg-white/5 rounded-xl p-4 border border-teal-500/20",children:[e.jsx("p",{className:"text-teal-300 text-sm mb-3 font-semibold",children:"Preview"}),B(H.youtube_url)?e.jsx("div",{className:"aspect-video bg-black rounded-lg overflow-hidden",children:e.jsx("iframe",{src:B(H.youtube_url),title:"Video Preview",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})}):e.jsx("div",{className:"aspect-video bg-red-500/10 border border-red-500/30 rounded-lg flex items-center justify-center",children:e.jsx("p",{className:"text-red-400 text-center px-4",children:"Invalid YouTube URL format. Preview not available."})})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"submit",disabled:x,className:"flex-1 py-3 bg-green-500 text-white rounded-lg font-semibold hover:bg-green-600 transition-all disabled:opacity-50",children:x?"Adding...":"Add Video"}),e.jsx("button",{type:"button",onClick:()=>{Re(!1),ve({title:"",youtube_url:""})},className:"flex-1 py-3 bg-white/10 text-white rounded-lg font-semibold hover:bg-white/20 transition-all",children:"Cancel"})]})]}),e.jsx("div",{className:"space-y-4",children:G.map((t,s)=>e.jsx("div",{className:`bg-white/5 rounded-xl p-6 border transition-all ${t.is_active?"border-green-500/30":"border-gray-500/30 opacity-60"}`,children:V?.id===t.id?e.jsxs("form",{onSubmit:Wt,className:"space-y-4",children:[e.jsx("input",{type:"text",value:V.title,onChange:c=>ue({...V,title:c.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-teal-500/30 rounded-lg text-white focus:outline-none focus:border-teal-500",placeholder:"Video Title"}),e.jsx("input",{type:"text",value:V.youtube_url,onChange:c=>ue({...V,youtube_url:c.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-teal-500/30 rounded-lg text-white focus:outline-none focus:border-teal-500",placeholder:"YouTube URL"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"submit",disabled:x,className:"flex-1 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50",children:"Save"}),e.jsx("button",{type:"button",onClick:()=>ue(null),className:"flex-1 py-2 bg-white/10 text-white rounded-lg hover:bg-white/20",children:"Cancel"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:t.title}),e.jsx("p",{className:"text-teal-400 text-sm break-all",children:t.youtube_url})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:[e.jsx("button",{onClick:()=>it(t.id,"up"),disabled:s===0,className:"p-2 bg-blue-500/20 text-blue-300 rounded-lg hover:bg-blue-500/30 transition-all disabled:opacity-30 disabled:cursor-not-allowed",title:"Move up",children:e.jsx(ct,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>it(t.id,"down"),disabled:s===G.length-1,className:"p-2 bg-blue-500/20 text-blue-300 rounded-lg hover:bg-blue-500/30 transition-all disabled:opacity-30 disabled:cursor-not-allowed",title:"Move down",children:e.jsx(mt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsxs("span",{className:"text-sm text-teal-300 bg-teal-900/30 px-3 py-1 rounded-full",children:["Order: ",s+1]}),e.jsx("span",{className:`text-sm px-3 py-1 rounded-full ${t.is_active?"text-green-300 bg-green-900/30":"text-gray-400 bg-gray-900/30"}`,children:t.is_active?"Active":"Inactive"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>ue(t),className:"flex items-center gap-2 px-4 py-2 bg-blue-500/20 text-blue-300 rounded-lg hover:bg-blue-500/30 transition-all",children:[e.jsx(De,{className:"w-4 h-4"}),"Edit"]}),e.jsx("button",{onClick:()=>Jt(t),className:`px-4 py-2 rounded-lg transition-all ${t.is_active?"bg-yellow-500/20 text-yellow-300 hover:bg-yellow-500/30":"bg-green-500/20 text-green-300 hover:bg-green-500/30"}`,children:t.is_active?"Deactivate":"Activate"}),e.jsxs("button",{onClick:()=>Xt(t.id),className:"flex items-center gap-2 px-4 py-2 bg-red-500/20 text-red-300 rounded-lg hover:bg-red-500/30 transition-all",children:[e.jsx(Ae,{className:"w-4 h-4"}),"Delete"]})]})]})},t.id))}),G.length===0&&!$e&&e.jsxs("div",{className:"text-center py-12 bg-white/5 rounded-xl border border-teal-500/20",children:[e.jsx(Ye,{className:"w-16 h-16 text-pink-400 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-teal-300 text-lg",children:"No videos added yet"}),e.jsx("p",{className:"text-teal-400 text-sm mt-2",children:'Click "Add Video" to create your first Good Wishes video'})]}),e.jsx("a",{href:"/",className:"block text-center py-3 bg-white/10 text-white rounded-lg font-semibold hover:bg-white/20 transition-all duration-300 border border-teal-500/30",children:d("common.backToDashboard")})]}),i==="leaderboard"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(vs,{}),e.jsx("a",{href:"/",className:"block text-center py-3 bg-white/10 text-white rounded-lg font-semibold hover:bg-white/20 transition-all duration-300 border border-teal-500/30",children:d("common.backToDashboard")})]}),i==="duplicates"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(js,{}),e.jsx("a",{href:"/",className:"block text-center py-3 bg-white/10 text-white rounded-lg font-semibold hover:bg-white/20 transition-all duration-300 border border-teal-500/30",children:d("common.backToDashboard")})]})]})})]}):h?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-teal-800 to-emerald-900 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx(Be,{})}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 shadow-2xl border border-teal-500/20 max-w-md w-full",children:[e.jsxs("button",{onClick:()=>{y(!1),C(""),F("")},className:"flex items-center gap-2 text-teal-300 hover:text-teal-200 transition-colors mb-4",children:[e.jsx(ls,{className:"w-4 h-4"}),"Back to Login"]}),e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(rs,{className:"w-8 h-8 text-teal-400"}),e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Forgot Password"})]}),e.jsx("p",{className:"text-teal-300 mb-6",children:"Enter your admin email address and we'll send you a password reset link."}),e.jsxs("form",{onSubmit:Ct,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-teal-300 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",value:k,onChange:t=>F(t.target.value),className:"w-full px-4 py-3 bg-white/5 border border-teal-500/30 rounded-lg text-white focus:outline-none focus:border-teal-500 transition-colors",placeholder:"admin@example.com",required:!0})]}),E&&e.jsx("div",{className:`p-4 rounded-lg text-sm whitespace-pre-line ${E.includes("generated")||E.includes("sent")?"bg-green-500/20 text-green-300 border border-green-500/30":"bg-red-500/20 text-red-300 border border-red-500/30"}`,children:E}),e.jsx("button",{type:"submit",disabled:A,className:"w-full py-3 bg-gradient-to-r from-teal-500 to-emerald-600 text-white rounded-lg font-semibold hover:shadow-lg hover:shadow-teal-500/50 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:A?"Sending...":"Send Reset Link"})]}),e.jsx("a",{href:"/",className:"block text-center mt-4 text-teal-300 hover:text-teal-200 transition-colors",children:d("common.backToDashboard")})]})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-teal-800 to-emerald-900 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx(Be,{})}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 shadow-2xl border border-teal-500/20 max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(os,{className:"w-8 h-8 text-teal-400"}),e.jsx("h1",{className:"text-3xl font-bold text-white",children:d("admin.loginTitle")})]}),e.jsxs("form",{onSubmit:kt,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-teal-300 mb-2",children:d("common.password")}),e.jsx("input",{type:"password",value:N,onChange:t=>f(t.target.value),className:"w-full px-4 py-3 bg-white/5 border border-teal-500/30 rounded-lg text-white focus:outline-none focus:border-teal-500 transition-colors",placeholder:d("admin.passwordPlaceholder")})]}),j&&e.jsx("p",{className:"text-red-400 text-sm",children:j}),e.jsx("button",{type:"submit",className:"w-full py-3 bg-gradient-to-r from-teal-500 to-emerald-600 text-white rounded-lg font-semibold hover:shadow-lg hover:shadow-teal-500/50 transition-all duration-300",children:d("common.login")})]}),e.jsx("button",{onClick:()=>y(!0),className:"w-full mt-4 text-teal-300 hover:text-teal-200 transition-colors text-sm underline",children:"Forgot Password?"}),e.jsx("a",{href:"/",className:"block text-center mt-4 text-teal-300 hover:text-teal-200 transition-colors",children:d("common.backToDashboard")})]})]})},Ds=Object.freeze(Object.defineProperty({__proto__:null,AdminPanel:Ns},Symbol.toStringTag,{value:"Module"}));export{Ds as A,Be as L,Ss as T,Cs as a,o as s,fs as u};
