import{u as h,r as l,j as e,k as b,Y as p,I as g}from"./vendor-react-CsWuKxj5.js";import{s as j,L as w}from"./page-admin-DgYsNXAM.js";import"./vendor-other-D2N4SXMU.js";import"./vendor-three-WWH58ZbN.js";import"./vendor-i18n-CPrbmvBl.js";import"./vendor-supabase-D4rA0elu.js";const _=({onBack:n})=>{h();const[a,c]=l.useState(""),[r,m]=l.useState(""),[x,i]=l.useState(!0);l.useEffect(()=>{u()},[]);const u=async()=>{i(!0);const{data:t}=await j.from("help_settings").select("*").eq("is_active",!0).order("updated_at",{ascending:!1}).limit(1),s=Array.isArray(t)&&t.length>0?t[0]:null;s&&(c(s.youtube_url||""),m(s.image_url||"")),i(!1)},o=t=>{if(!t)return"";if(t.includes("embed"))return t;const s=/(?:youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/,d=t.match(s);return d&&d[1]?`https://www.youtube.com/embed/${d[1]}`:""};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-teal-800 to-emerald-900 p-4 md:p-8",children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx(w,{})}),e.jsx("div",{className:"max-w-5xl mx-auto",children:e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 md:p-8 shadow-2xl border border-teal-500/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white",children:"Project Help"}),e.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 bg-teal-500 hover:bg-teal-600 text-white rounded-lg font-semibold transition-all duration-300 hover:shadow-lg",children:[e.jsx(b,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Back to Dashboard"})]})]}),x?e.jsx("div",{className:"text-center text-teal-300 py-20",children:e.jsx("div",{className:"animate-pulse",children:"Loading help content..."})}):e.jsxs("div",{className:"space-y-8",children:[a&&o(a)?e.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-teal-500/20",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"bg-red-500 rounded-lg p-3",children:e.jsx(p,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Help Video"})]}),e.jsx("div",{className:"aspect-video bg-black rounded-lg overflow-hidden shadow-xl",children:e.jsx("iframe",{src:o(a),title:"Help Video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})})]}):null,r?e.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-teal-500/20",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"bg-blue-500 rounded-lg p-3",children:e.jsx(g,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Help Guide"})]}),e.jsx("div",{className:"bg-white/5 rounded-lg overflow-hidden shadow-xl",children:e.jsx("img",{src:r,alt:"Help Guide",className:"w-full rounded-lg",onError:t=>{t.currentTarget.style.display="none"}})})]}):null,!a&&!r&&e.jsx("div",{className:"text-center text-teal-300 py-20",children:e.jsxs("div",{className:"bg-white/5 rounded-xl p-12 border border-teal-500/20",children:[e.jsx("p",{className:"text-2xl font-semibold mb-3",children:"No help content available yet"}),e.jsx("p",{className:"text-base",children:"Contact the administrator to add help resources."})]})})]})]})})]})};export{_ as HelpPage};
