var t=Object.defineProperty,__name=(a,o)=>t(a,"name",{value:o,configurable:!0});async function requestHighAccuracyLocation(){return new Promise((t,a)=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(a=>{t({latitude:a.coords.latitude,longitude:a.coords.longitude,accuracy:a.coords.accuracy,source:"gps",timestamp:new Date(a.timestamp)})},t=>{let o,n;switch(t.code){case t.PERMISSION_DENIED:o="PERMISSION_DENIED",n="Location permission was denied";break;case t.POSITION_UNAVAILABLE:o="POSITION_UNAVAILABLE",n="Location information is unavailable";break;case t.TIMEOUT:o="TIMEOUT",n="Location request timed out";break;default:o="UNKNOWN",n="An unknown error occurred"}a({code:o,message:n})},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5}):a({code:"NOT_SUPPORTED",message:"Geolocation is not supported by this browser"})})}function getFallbackLocationFromProfile(t){const a={IN:{lat:20.5937,lng:78.9629,name:"India"},US:{lat:37.0902,lng:-95.7129,name:"United States"},GB:{lat:55.3781,lng:-3.436,name:"United Kingdom"},CA:{lat:56.1304,lng:-106.3468,name:"Canada"},AU:{lat:-25.2744,lng:133.7751,name:"Australia"}},{country_code:o,bk_centre_name:n}=t;if(o&&a[o]){const t=a[o];return{latitude:t.lat,longitude:t.lng,source:"fallback",city:n||t.name,country:o,timestamp:new Date}}return{latitude:20.5937,longitude:78.9629,source:"fallback",city:n||"India",country:"IN",timestamp:new Date}}function formatLocationDisplay(t){return t.city&&t.country?`${t.city}, ${t.country}`:t.city?t.city:"Unknown Location"}function getLocationAccuracyDescription(t){return t?t<50?"Very High":t<100?"High":t<500?"Medium":"Low":"Approximate"}function toRad(t){return t*(Math.PI/180)}__name(requestHighAccuracyLocation,"requestHighAccuracyLocation"),__name(getFallbackLocationFromProfile,"getFallbackLocationFromProfile"),__name(async function getLocationWithFallback(t){try{return await requestHighAccuracyLocation()}catch(a){return getFallbackLocationFromProfile(t)}},"getLocationWithFallback"),__name(formatLocationDisplay,"formatLocationDisplay"),__name(getLocationAccuracyDescription,"getLocationAccuracyDescription"),__name(async function checkLocationPermissionStatus(){if(!navigator.permissions)return"prompt";try{return(await navigator.permissions.query({name:"geolocation"})).state}catch(t){return"prompt"}},"checkLocationPermissionStatus"),__name(function isLocationValid(t,a){return null!=t&&null!=a&&t>=-90&&t<=90&&a>=-180&&a<=180},"isLocationValid"),__name(function calculateDistance(t,a,o,n){const c=toRad(o-t),e=toRad(n-a),i=Math.sin(c/2)*Math.sin(c/2)+Math.cos(toRad(t))*Math.cos(toRad(o))*Math.sin(e/2)*Math.sin(e/2);return 2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))*6371},"calculateDistance"),__name(toRad,"toRad");export{getLocationAccuracyDescription as a,formatLocationDisplay as f,getFallbackLocationFromProfile as g,requestHighAccuracyLocation as r};
