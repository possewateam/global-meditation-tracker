var e=Object.defineProperty,__name=(t,l)=>e(t,"name",{value:l,configurable:!0});import{r as t,j as l,k as s,g as a,F as r,X as o}from"./vendor-react-B3cVin9Q.js";import{s as i,L as d}from"./page-admin-cU6anLI0.js";import"./vendor-other-D9QTidg2.js";import"./vendor-three-DgmlkwHn.js";import"./vendor-i18n-DgyYewF3.js";import"./vendor-supabase-BYHeWUli.js";const c=__name(({onBack:e})=>{const[c,n]=t.useState([]),[u,m]=t.useState(!0),[h,b]=t.useState(""),[x,p]=t.useState(null),f=[{title:"करुणा भाई जी की प्रेरणाएं",url:"https://youtu.be/_WZ4gLLSq2U"},{title:"सुदेश दीदी जी की प्रेरणाएं",url:"https://youtu.be/Gi_cT8OI9rw"},{title:"संतोष दीदी जी की प्रेरणाएं",url:"https://youtu.be/yxhheLduFmk"},{title:"जयंती दीदी जी की प्रेरणाएं",url:"https://youtu.be/aGdboqDBoOQ"}];t.useEffect(()=>{__name(async()=>{m(!0);try{const{data:e,error:t}=await i.from("good_wishes_videos").select("*").eq("is_active",!0).order("order_index",{ascending:!0});if(t)return void m(!1);if(e&&0!==e.length)n(e);else{const{data:e}=await i.auth.getSession();if(!!e?.session){const e=f.map((e,t)=>({title:e.title,youtube_url:e.url,thumbnail_url:null,order_index:t+1,is_active:!0})),{error:t}=await i.from("good_wishes_videos").insert(e);if(t);else{const{data:e}=await i.from("good_wishes_videos").select("*").eq("is_active",!0).order("order_index",{ascending:!0});e&&n(e)}}}}catch(e){}finally{m(!1)}},"fetchAndSeedVideos")()},[]);const g=t.useMemo(()=>{const e=h.trim().toLowerCase();return e?c.filter(t=>t.title.toLowerCase().includes(e)):c},[c,h]),v=t.useMemo(()=>({id:"fallback",title:"Good Wishes - BK Santosh Didi - Russia",youtube_url:"https://www.youtube.com/watch?v=KSERWqXhPfI",thumbnail_url:null,is_active:!0,order_index:0,created_at:(new Date).toISOString()}),[]),w=t.useMemo(()=>g.length>0?g:v?[v]:[],[g,v]),j=__name(e=>{if(!e)return null;const t=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]{11})/,/youtube\.com\/watch\?.*v=([a-zA-Z0-9_-]{11})/];for(const l of t){const t=e.match(l);if(t&&t[1])return t[1]}return null},"extractYoutubeVideoId"),y=__name(e=>{if(!e)return"";const t=j(e);if(t)return`https://www.youtube.com/embed/${t}?autoplay=1&mute=0`;if(e.includes("embed")){const t=e.includes("?")?"&":"?";return`${e}${t}autoplay=1&mute=0`}return""},"getEmbedAutoplayUrl"),N=__name(e=>{if(e.thumbnail_url)return e.thumbnail_url;const t=j(e.youtube_url);return t?`https://img.youtube.com/vi/${t}/hqdefault.jpg`:""},"getThumbnail");return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-teal-800 to-emerald-900 text-white",children:[l.jsx("div",{className:"absolute top-4 right-4",children:l.jsx(d,{})}),l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[l.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-teal-300 hover:text-teal-200 transition-colors",children:[l.jsx(s,{className:"w-5 h-5"}),"Back to Dashboard"]}),l.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-teal-400 via-cyan-400 to-blue-400",children:"Good Wishes"})]}),l.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 shadow-2xl border border-teal-500/20",children:[l.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:l.jsxs("div",{className:"relative w-full md:w-96",children:[l.jsx(a,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-teal-300"}),l.jsx("input",{type:"text",value:h,onChange:__name(e=>b(e.target.value),"onChange"),placeholder:"Search videos by title",className:"w-full pl-10 pr-4 py-3 bg-white/5 border border-teal-500/30 rounded-lg text-white placeholder-teal-400 focus:outline-none focus:border-teal-500 transition-colors"})]})}),l.jsxs("div",{className:"md:grid md:grid-cols-4 md:gap-6",children:[l.jsx("div",{className:"mb-6 md:mb-0 md:col-span-1",children:l.jsxs("button",{type:"button",onClick:__name(()=>p({id:"link-panel-fQYqI_wHF4Q",title:"World Meditation Project 2025 | Power of Sakash",youtube_url:"https://youtu.be/fQYqI_wHF4Q",thumbnail_url:"https://img.youtube.com/vi/fQYqI_wHF4Q/hqdefault.jpg",is_active:!0,order_index:0,created_at:(new Date).toISOString()}),"onClick"),className:"w-full text-left bg-gradient-to-br from-teal-900/40 to-blue-900/40 backdrop-blur-lg rounded-2xl overflow-hidden shadow-2xl border border-teal-500/20 hover:border-teal-500/40 transition-all duration-300 hover:scale-[1.02]","aria-label":"Play World Meditation Project 2025 | Power of Sakash inside the app",children:[l.jsx("div",{className:"relative aspect-video bg-black/50",children:l.jsx("img",{src:"https://img.youtube.com/vi/fQYqI_wHF4Q/hqdefault.jpg",alt:"World Meditation Project 2025 | Power of Sakash",className:"w-full h-full object-cover",loading:"lazy",decoding:"async"})}),l.jsxs("div",{className:"p-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-white line-clamp-2",children:"World Meditation Project 2025 | Power of Sakash"}),l.jsx("p",{className:"text-teal-300 text-sm mt-1",children:"Play inside app"})]})]})}),l.jsx("div",{className:"md:col-span-3",children:l.jsx("div",u?{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:8}).map((e,t)=>l.jsxs("div",{className:"bg-white/5 rounded-2xl overflow-hidden border border-teal-500/20 animate-pulse",children:[l.jsx("div",{className:"aspect-video bg-white/10"}),l.jsxs("div",{className:"p-4",children:[l.jsx("div",{className:"h-5 bg-white/10 rounded mb-2"}),l.jsx("div",{className:"h-4 bg-white/10 rounded w-2/3"})]})]},t))}:0===w.length?{className:"text-center py-12",children:l.jsx("p",{className:"text-teal-300 text-lg",children:"No videos found."})}:{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:w.map(e=>l.jsxs("button",{onClick:__name(()=>p(e),"onClick"),className:"text-left bg-gradient-to-br from-teal-900/40 to-blue-900/40 backdrop-blur-lg rounded-2xl overflow-hidden shadow-2xl border border-teal-500/20 hover:border-teal-500/40 transition-all duration-300 hover:scale-[1.02]",children:[l.jsx("div",{className:"relative aspect-video bg-black/50",children:N(e)?l.jsx("img",{src:N(e),alt:e.title,className:"w-full h-full object-cover",onError:__name(e=>{e.currentTarget.style.display="none"},"onError")}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(r,{className:"w-16 h-16 text-teal-400 opacity-50"})})}),l.jsx("div",{className:"p-4",children:l.jsx("h3",{className:"text-lg font-semibold text-white line-clamp-2",children:e.title})})]},e.id))})})]})]})]}),x&&l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"max-w-7xl w-full",children:[l.jsx("div",{className:"flex justify-end mb-3",children:l.jsxs("button",{onClick:__name(()=>p(null),"onClick"),className:"flex items-center gap-2 px-4 py-2 bg-white/10 text-white rounded-lg font-semibold hover:bg-white/20 transition",children:[l.jsx(o,{className:"w-5 h-5"}),"Close"]})}),l.jsx("div",{className:"aspect-video bg-black rounded-xl overflow-hidden border border-teal-500/30 shadow-2xl",children:l.jsx("iframe",{src:y(x.youtube_url),title:x.title,className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})]})})]})},"GoodWishes");export{c as GoodWishes};
